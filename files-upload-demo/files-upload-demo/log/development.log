  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK(4500053543595409275, 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateBooks (20170917030632)
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE `books` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170917030632')[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCovers (20170917030642)
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE `covers` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `book_id` int, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170917030642')[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAttachmentPhotoToCovers (20170917030652)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK(4500053543595409275)[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK(4500053543595409275, 0)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddAttachmentPhotoToCovers (20170917030652)
  [1m[35m (15.6ms)[0m  [1m[35mALTER TABLE `covers` ADD `photo_file_name` varchar(255)[0m
  [1m[35m (7.4ms)[0m  [1m[35mALTER TABLE `covers` ADD `photo_content_type` varchar(255)[0m
  [1m[35m (7.6ms)[0m  [1m[35mALTER TABLE `covers` ADD `photo_file_size` int[0m
  [1m[35m (8.1ms)[0m  [1m[35mALTER TABLE `covers` ADD `photo_updated_at` datetime[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170917030652')[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2017-09-17 03:07:31', '2017-09-17 03:07:31')[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK(4500053543595409275)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK(4500053543595409275, 0)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK(4500053543595409275)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2017-09-17 14:57:24 +0800
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/james/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/james/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb (2.2ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.0ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 14:58:16 +0800
Processing by BooksController#index as JSON
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.8ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 14:58:17 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 14:59:48 +0800
Started GET "/books.json" for 127.0.0.1 at 2017-09-17 14:59:48 +0800
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by BooksController#index as JSON
  [1m[35m (6.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by BooksController#index as JSON
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 1.5ms)


Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 14:59:50 +0800
Processing by BooksController#index as JSON
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.6ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 14:59:50 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.4ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 15:00:46 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 15:00:53 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 15:21:58 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 15:22:00 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2017-09-17 15:47:01 +0800
Processing by Rails::WelcomeController#index as HTML
Started GET "/books.json" for 127.0.0.1 at 2017-09-17 15:47:01 +0800
  Rendering /Users/james/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb
Processing by BooksController#index as JSON
  Rendered /Users/james/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb (2.8ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms)


  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.6ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 15:58:22 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers"=>[], "errors"=>{}}}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.6ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 15:59:21 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers"=>[], "errors"=>{}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 16:02:05 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"undefined", "description"=>"undefined", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007fd8f76a0c20 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-43426-1hw8hhk.jpg>, @original_filename="sac-3.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-3.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007fd8f76a0ae0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-43426-1lfcvya.jpg>, @original_filename="sac-4.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-4.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007fd8f76a0978 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-43426-svyfjt.jpg>, @original_filename="sac-5.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-5.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007fd8f76a0810 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-43426-bcy51i.jpg>, @original_filename="sac-6.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-6.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007fd8f76a0680 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-43426-qxzai6.jpg>, @original_filename="sac-7.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-7.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007fd8f76a0540 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-43426-1o2am0s.jpg>, @original_filename="sac-8.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"sac-8.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "6"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007fd8f76a0400 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-43426-1a1op93.jpg>, @original_filename="sac-9.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][6][photo]\"; filename=\"sac-9.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "7"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007fd8f76a0298 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-43426-25uy32.jpg>, @original_filename="sac-10.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][7][photo]\"; filename=\"sac-10.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 16:02:17 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"undefined", "description"=>"undefined", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007fd8f5b52e50 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-43426-y4d7er.jpg>, @original_filename="sac-3.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-3.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007fd8f5b52770 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-43426-1dstg0q.jpg>, @original_filename="sac-4.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-4.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007fd8f5b52338 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-43426-rquj6i.jpg>, @original_filename="sac-5.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-5.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/books_controller.rb:18:in `create'
Started GET "/books.json" for 127.0.0.1 at 2017-09-17 18:40:59 +0800
  [1m[35m (12.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.7ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:04:36 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9701f37948 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-rmw38w.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.7ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:04:37 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd7c3a30 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-wbxvvz.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:04:37 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fc435b08 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-4g1l8x.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:04:37 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fe2675e0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-6igod1.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:06:11 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd470338 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1g06s4x.jpg>, @original_filename="sac-11.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-11.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd483cf8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1g0qr9f.jpg>, @original_filename="sac-12.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-12.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd483050 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1qekmvx.jpg>, @original_filename="sac-13.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-13.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd482d58 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-em1b7i.jpg>, @original_filename="sac-14.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-14.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd482790 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-7hbtf1.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd481fe8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1n8ggvk.jpg>, @original_filename="sac-16.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"sac-16.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "6"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd480b70 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-131s3ao.jpg>, @original_filename="sac-17.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][6][photo]\"; filename=\"sac-17.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "7"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd493f90 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-b1qduc.jpg>, @original_filename="sac-18.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][7][photo]\"; filename=\"sac-18.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "8"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd493ab8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1qolkq1.jpg>, @original_filename="sac-19.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][8][photo]\"; filename=\"sac-19.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "9"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd492168 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-10x3nb2.jpg>, @original_filename="sac-20.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][9][photo]\"; filename=\"sac-20.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "10"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd491a88 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-psz2r7.jpg>, @original_filename="sac-21.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][10][photo]\"; filename=\"sac-21.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "11"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd491420 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-16ml12o.jpg>, @original_filename="sac-22.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][11][photo]\"; filename=\"sac-22.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "12"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd491268 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-n0c0qz.jpg>, @original_filename="sac-23.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][12][photo]\"; filename=\"sac-23.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "13"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd4910d8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-4bz3vw.jpg>, @original_filename="sac-24.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][13][photo]\"; filename=\"sac-24.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "14"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd490bd8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-xsx71x.jpg>, @original_filename="sac-25.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][14][photo]\"; filename=\"sac-25.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "15"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd4906b0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-5gzpn0.jpg>, @original_filename="sac-26.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][15][photo]\"; filename=\"sac-26.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "16"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd4a3b48 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-egnu5l.jpg>, @original_filename="sac-27.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][16][photo]\"; filename=\"sac-27.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "17"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd4a2b30 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1dg5dze.jpg>, @original_filename="sac-28.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][17][photo]\"; filename=\"sac-28.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "18"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd4a23d8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-15gwqln.jpg>, @original_filename="sac-29.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][18][photo]\"; filename=\"sac-29.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:07:11 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd3314e0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1dvbhwc.jpg>, @original_filename="sac-22.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-22.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd330c20 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-ccn6u3.jpg>, @original_filename="sac-23.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-23.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd330888 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-lip4c9.jpg>, @original_filename="sac-24.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-24.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd3301f8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-alx8bx.jpg>, @original_filename="sac-25.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-25.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd343e88 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-oodjwz.jpg>, @original_filename="sac-26.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-26.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd343a28 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-16n2k1s.jpg>, @original_filename="sac-27.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"sac-27.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "6"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd343730 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-s855i6.jpg>, @original_filename="sac-28.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][6][photo]\"; filename=\"sac-28.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "7"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd343488 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1um6jbm.jpg>, @original_filename="sac-29.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][7][photo]\"; filename=\"sac-29.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "8"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd342e48 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1aez9lf.jpg>, @original_filename="sac-30.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][8][photo]\"; filename=\"sac-30.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "9"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd3422b8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-bx8607.jpg>, @original_filename="sac-31.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][9][photo]\"; filename=\"sac-31.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "10"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd341fe8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-17dr8m4.jpg>, @original_filename="sac-32.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][10][photo]\"; filename=\"sac-32.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:09:39 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f970387a130 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-161zp6c.jpg>, @original_filename="sac-19.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-19.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9703879ff0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-87bb4i.jpg>, @original_filename="sac-20.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-20.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9703879eb0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1thujr4.jpg>, @original_filename="sac-21.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-21.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9703879d70 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1o5etnb.jpg>, @original_filename="sac-22.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-22.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9703879c30 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1tzxfpm.jpg>, @original_filename="sac-23.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-23.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9703879af0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-l306ha.jpg>, @original_filename="sac-24.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"sac-24.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "6"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f97038799b0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-19qu3j4.jpg>, @original_filename="sac-25.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][6][photo]\"; filename=\"sac-25.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "7"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9703879870 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1l51ffx.jpg>, @original_filename="sac-26.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][7][photo]\"; filename=\"sac-26.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "8"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9703879730 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1c8itkc.jpg>, @original_filename="sac-27.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][8][photo]\"; filename=\"sac-27.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "9"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f97038795f0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1vmyr3o.jpg>, @original_filename="sac-28.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][9][photo]\"; filename=\"sac-28.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:10:44 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9704047958 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-n3p94.jpg>, @original_filename="sac-14.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-14.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9704047818 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1sp8c0e.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f97040476d8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-jt75eb.jpg>, @original_filename="sac-16.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-16.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9704047598 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1v9a28y.jpg>, @original_filename="sac-17.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-17.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9704047458 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1ni3z0f.jpg>, @original_filename="sac-18.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-18.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9704047318 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-rzhp9y.jpg>, @original_filename="sac-19.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"sac-19.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "6"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f97040471d8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1umhn4u.jpg>, @original_filename="sac-20.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][6][photo]\"; filename=\"sac-20.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "7"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9704047098 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1ralhgc.jpg>, @original_filename="sac-21.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][7][photo]\"; filename=\"sac-21.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:11:12 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9703abdde8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-8to61g.jpg>, @original_filename="sac-14.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-14.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9703abdca8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1xjpui5.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9703abdb68 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1x9k3xw.jpg>, @original_filename="sac-16.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-16.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9703abda28 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1yysxp0.jpg>, @original_filename="sac-17.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-17.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9703abd8e8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1qfx16o.jpg>, @original_filename="sac-18.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-18.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9703abd7a8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-lrdypt.jpg>, @original_filename="sac-19.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"sac-19.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:11:34 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fe19f158 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-6ur5xz.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fe19f018 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-7ehtl8.jpg>, @original_filename="sac-16.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-16.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:12:30 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f970425fa60 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1d6u05f.jpg>, @original_filename="sac-13.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-13.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f970425f920 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1pvikwf.jpg>, @original_filename="sac-14.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-14.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f970425f7e0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-182bhr3.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f970425f6a0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1oebiqd.jpg>, @original_filename="sac-16.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-16.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f970425f560 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-hldl05.jpg>, @original_filename="sac-17.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-17.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f970425f420 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-qi21z1.jpg>, @original_filename="sac-18.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"sac-18.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "6"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f970425f2e0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1cyc6d6.jpg>, @original_filename="sac-19.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][6][photo]\"; filename=\"sac-19.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:12:45 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fe1a6778 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-bt3q5c.jpg>, @original_filename="sac-10.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-10.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fe1a6638 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-ptgksl.jpg>, @original_filename="sac-11.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-11.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fe1a64f8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-13cg4a6.jpg>, @original_filename="sac-12.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-12.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:13:54 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9701a84f18 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-63kbia.jpg>, @original_filename="sac-12.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-12.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9701a849a0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-12gvya1.jpg>, @original_filename="sac-13.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-13.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9701a77f70 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1ddmiu4.jpg>, @original_filename="sac-14.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-14.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:15:39 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fe28ca98 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1k2fj08.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fe28c958 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-nb5aoe.jpg>, @original_filename="sac-16.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-16.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fe28c818 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-bvingi.jpg>, @original_filename="sac-17.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-17.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fe28c6d8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1hm2nxp.jpg>, @original_filename="sac-18.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-18.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fe28c598 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1ojzmux.jpg>, @original_filename="sac-19.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-19.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fe28c458 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-h7d4n0.jpg>, @original_filename="sac-20.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"sac-20.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "6"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fe28c318 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-b4rwyk.jpg>, @original_filename="sac-21.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][6][photo]\"; filename=\"sac-21.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "7"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fe28c1d8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-uwb0i9.jpg>, @original_filename="sac-22.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][7][photo]\"; filename=\"sac-22.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.4ms)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:18:44 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd4b89d0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-167pltj.jpg>, @original_filename="sac-12.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-12.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd4b8250 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1ol1yzr.jpg>, @original_filename="sac-13.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-13.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd4abc08 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1nkpjdd.jpg>, @original_filename="sac-14.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-14.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd4ab3c0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1pgmv44.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd4a9ea8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1dhpv4a.jpg>, @original_filename="sac-16.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-16.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd4a96d8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1njtwdm.jpg>, @original_filename="sac-17.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"sac-17.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Unpermitted parameter: :description
Completed 500 Internal Server Error in 51ms (ActiveRecord: 7.1ms)


  
Paperclip::Errors::MissingRequiredValidatorError (Paperclip::Errors::MissingRequiredValidatorError):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:38:02 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd752920 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-k3v0zp.jpg>, @original_filename="sac-13.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-13.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd752650 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-ktjnye.jpg>, @original_filename="sac-14.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-14.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd752358 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1szscgx.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd752128 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-laiw5x.jpg>, @original_filename="sac-16.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-16.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd751e58 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1j7ewa9.jpg>, @original_filename="sac-17.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-17.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd751ae8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-djes48.jpg>, @original_filename="sac-18.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"sac-18.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "6"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd751688 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1d67wsd.jpg>, @original_filename="sac-19.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][6][photo]\"; filename=\"sac-19.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "7"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd750f80 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-10wylma.jpg>, @original_filename="sac-20.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][7][photo]\"; filename=\"sac-20.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Unpermitted parameter: :description
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.0ms)


  
ArgumentError (The provided regular expression is using multiline anchors (^ or $), which may present a security risk. Did you mean to use \A and \z, or forgot to add the :multiline => true option?):
  
app/models/cover.rb:11:in `<class:Cover>'
app/models/cover.rb:1:in `<top (required)>'
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:40:57 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd702308 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-rrf8s9.jpg>, @original_filename="sac-9.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-9.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd702060 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1uuumm2.jpg>, @original_filename="sac-10.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-10.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd701d68 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-2zvakd.jpg>, @original_filename="sac-11.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-11.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd7017f0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-14kvg0e.jpg>, @original_filename="sac-12.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-12.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd7011d8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1ejo1iv.jpg>, @original_filename="sac-13.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-13.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd700f80 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-18gx119.jpg>, @original_filename="sac-14.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"sac-14.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "6"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd700e18 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-2m6ze6.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][6][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "7"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd700bc0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1a0lpa5.jpg>, @original_filename="sac-16.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][7][photo]\"; filename=\"sac-16.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Unpermitted parameter: :description
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.0ms)


  
Paperclip::Errors::MissingRequiredValidatorError (Paperclip::Errors::MissingRequiredValidatorError):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:43:32 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9701cefa78 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-30ecoz.jpg>, @original_filename="sac-12.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-12.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9701cef938 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1pv119w.jpg>, @original_filename="sac-13.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-13.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9701cef7a8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-l98e3q.jpg>, @original_filename="sac-14.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-14.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9701cef640 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-h8up8s.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9701cef500 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-zph9tt.jpg>, @original_filename="sac-16.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-16.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9701cef398 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-tqrtim.jpg>, @original_filename="sac-17.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"sac-17.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "6"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9701cef258 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1b5440h.jpg>, @original_filename="sac-18.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][6][photo]\"; filename=\"sac-18.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "7"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9701cef0f0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1lo6bz4.jpg>, @original_filename="sac-19.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][7][photo]\"; filename=\"sac-19.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Unpermitted parameter: :description
Completed 500 Internal Server Error in 57ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `before_image_post_process' for #<Class:0x007f97018cba00>
Did you mean?  before_post_process
               before_photo_post_process):
  
app/models/cover.rb:12:in `<class:Cover>'
app/models/cover.rb:1:in `<top (required)>'
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:44:00 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"21312", "description"=>"3123123", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd209860 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-22yl9x.jpg>, @original_filename="sac-11.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-11.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd208bb8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-k6z4mm.jpg>, @original_filename="sac-12.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-12.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd2117b8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-chy6o1.jpg>, @original_filename="sac-13.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-13.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd21b7e0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-pgj89v.jpg>, @original_filename="sac-14.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-14.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd2196c0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-v9jlu1.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fc827d88 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1vpwzn3.jpg>, @original_filename="sac-16.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"sac-16.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "6"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fc826140 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1q1l9ps.jpg>, @original_filename="sac-17.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][6][photo]\"; filename=\"sac-17.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "7"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fc82ca90 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1ypfspv.jpg>, @original_filename="sac-18.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][7][photo]\"; filename=\"sac-18.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "8"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd223940 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-akrfg2.jpg>, @original_filename="sac-19.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][8][photo]\"; filename=\"sac-19.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Unpermitted parameter: :description
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e5c56b7a45429bf1c9441319e24067e420170917-1476-15xxejx.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e5c56b7a45429bf1c9441319e24067e420170917-1476-1stnjt9.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e5c56b7a45429bf1c9441319e24067e420170917-1476-1stnjt9.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/daac31cfc52de8cf4ef9c19cb91e961420170917-1476-1rfoewb.jpg'
Completed 500 Internal Server Error in 161ms (ActiveRecord: 0.0ms)


  
Paperclip::Error (There was an error processing the thumbnail for e5c56b7a45429bf1c9441319e24067e420170917-1476-1stnjt9):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:44:37 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"James", "description"=>"Huynh", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd0c6ef8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1lwst3j.jpg>, @original_filename="sac-8.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-8.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd0c4ab8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-ep5g2x.jpg>, @original_filename="sac-9.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-9.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd1f2c28 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-eb8vkk.jpg>, @original_filename="sac-10.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-10.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd1f11c0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1bne3vi.jpg>, @original_filename="sac-11.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-11.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd203898 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1mah7af.jpg>, @original_filename="sac-12.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-12.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd2025b0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-176xnwb.jpg>, @original_filename="sac-13.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"sac-13.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "6"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd20a990 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-18zo5la.jpg>, @original_filename="sac-14.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][6][photo]\"; filename=\"sac-14.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "7"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd209dd8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-vzjj4c.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][7][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "8"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd208578 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-g5aell.jpg>, @original_filename="sac-16.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][8][photo]\"; filename=\"sac-16.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/99e9a493cd62a0d7634de6f4d5d0490d20170917-1476-1g0l90s.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/99e9a493cd62a0d7634de6f4d5d0490d20170917-1476-k2r0lp.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/99e9a493cd62a0d7634de6f4d5d0490d20170917-1476-k2r0lp.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/872390e6a3e8dd220fa1a728f2bcede520170917-1476-1271p6j.jpg'
Completed 500 Internal Server Error in 127ms (ActiveRecord: 0.0ms)


  
Paperclip::Error (There was an error processing the thumbnail for 99e9a493cd62a0d7634de6f4d5d0490d20170917-1476-k2r0lp):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:45:38 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"123123", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96ff13f180 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-2s34at.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96ff13f040 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-8aa5uv.jpg>, @original_filename="sac-16.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-16.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96ff13ef00 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-6yfdts.jpg>, @original_filename="sac-17.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-17.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96ff13edc0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-v98gph.jpg>, @original_filename="sac-18.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-18.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96ff13ec80 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-khxpdi.jpg>, @original_filename="sac-19.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-19.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-1476-3f1zuv.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-1476-1pqwvlj.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-1476-1pqwvlj.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlaced '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/0abab2e92da62eb86d4f624788909cf820170917-1476-q5mngo.jpg'
Completed 500 Internal Server Error in 146ms (ActiveRecord: 0.0ms)


  
Paperclip::Error (There was an error processing the thumbnail for 772fdd85c51aae01c9ecdda9f8c3d52820170917-1476-1pqwvlj):
  
app/controllers/books_controller.rb:18:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:46:30 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"23132", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd6aacc0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-jl6hs7.jpg>, @original_filename="sac-12.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-12.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd6a9550 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1ajdapa.jpg>, @original_filename="sac-13.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-13.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd6a9000 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1e3mrhw.jpg>, @original_filename="sac-14.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-14.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fd6ab670 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1fl3psp.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fe027410 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-ll61ln.jpg>, @original_filename="sac-16.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-16.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007f96fe026e48 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-1476-1oscm0.jpg>, @original_filename="sac-17.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"sac-17.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e7539fb7337106587f59bcd69191fb1820170917-1476-g8n0fw.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e7539fb7337106587f59bcd69191fb1820170917-1476-1ozqa70.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e7539fb7337106587f59bcd69191fb1820170917-1476-1ozqa70.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/f2ef646702caca105aae886a1f9c033c20170917-1476-li8fbl.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-1476-1tto0nb.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-1476-a62h5k.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-1476-a62h5k.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/32eac6604a0b9546011025a6c2ac8d2d20170917-1476-1mi45bz.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-1476-1au8kkl.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-1476-1u067j1.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-1476-1u067j1.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/4accdef116d7af86276edc29d4c8876f20170917-1476-1jhidra.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-1476-yrwz6k.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-1476-1195zug.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-1476-1195zug.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/844c86162f09cf945b373a8f2b60989020170917-1476-quqcl9.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-1476-iarh17.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-1476-1i1iwpt.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-1476-1i1iwpt.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/641e37b588d1b9372b65b26ef29c79f820170917-1476-2wmr8x.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/527136b939dce4186a5e9bc0914cbe1720170917-1476-w0nb5n.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/527136b939dce4186a5e9bc0914cbe1720170917-1476-1x9ic5o.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/527136b939dce4186a5e9bc0914cbe1720170917-1476-1x9ic5o.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/f7a96e0c98939b561db6b02c4b4d388520170917-1476-1qs6b75.jpg'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e7539fb7337106587f59bcd69191fb1820170917-1476-3sclb7.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-1476-14kvxa3.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-1476-7wfhr1.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-1476-7zvt9n.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-1476-16ymqop.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/527136b939dce4186a5e9bc0914cbe1720170917-1476-fp78lr.jpg'
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `description`, `created_at`, `updated_at`) VALUES ('1231', '23132', '2017-09-17 13:46:31', '2017-09-17 13:46:31')[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 13:46:31', '2017-09-17 13:46:31', 'sac-12.jpg', 'image/jpeg', 550083, '2017-09-17 13:46:30')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 13:46:31', '2017-09-17 13:46:31', 'sac-13.jpg', 'image/jpeg', 659948, '2017-09-17 13:46:30')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 13:46:31', '2017-09-17 13:46:31', 'sac-14.jpg', 'image/jpeg', 620369, '2017-09-17 13:46:30')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 13:46:31', '2017-09-17 13:46:31', 'sac-15.jpg', 'image/jpeg', 662244, '2017-09-17 13:46:30')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 13:46:31', '2017-09-17 13:46:31', 'sac-16.jpg', 'image/jpeg', 527293, '2017-09-17 13:46:30')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 13:46:31', '2017-09-17 13:46:31', 'sac-17.jpg', 'image/jpeg', 735630, '2017-09-17 13:46:30')[0m
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 767ms (Views: 1.2ms | ActiveRecord: 8.5ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:46:31 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.4ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:46:56 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 12ms (Views: 7.7ms | ActiveRecord: 1.4ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:48:07 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 9ms (Views: 5.7ms | ActiveRecord: 0.2ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:48:12 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:48:14 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:50:17 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.2ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:50:24 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.2ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:50:28 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:50:29 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (1.9ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 1.9ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:50:32 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:51:28 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:51:30 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.2ms)


Started GET "/books" for 127.0.0.1 at 2017-09-17 21:52:40 +0800
Processing by BooksController#index as HTML
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.2ms)


Started GET "/books/" for 127.0.0.1 at 2017-09-17 21:52:42 +0800
Processing by BooksController#index as HTML
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2017-09-17 21:52:46 +0800
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/james/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/james/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb (3.7ms)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 0.0ms)


Started GET "/books/" for 127.0.0.1 at 2017-09-17 21:52:46 +0800
Processing by BooksController#index as HTML
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.4ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:54:29 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 0.4ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:54:29 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:54:32 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:54:32 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.3ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:54:33 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:54:33 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.2ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:54:33 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:54:33 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.2ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:54:33 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:54:33 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.2ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:54:33 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:54:33 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:54:38 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.2ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:54:40 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.2ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:54:46 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.2ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:54:58 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.4ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:54:59 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:55:00 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:55:01 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:55:02 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:55:03 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:55:04 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.2ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:55:05 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:55:07 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"12312", "description"=>"313123"}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `description`, `created_at`, `updated_at`) VALUES ('12312', '313123', '2017-09-17 13:55:07', '2017-09-17 13:55:07')[0m
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 9ms (Views: 0.8ms | ActiveRecord: 5.8ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:55:07 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.2ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 21:55:08 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.5ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:55:09 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.2ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:55:18 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:55:20 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.4ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:55:20 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:55:21 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.2ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 21:55:22 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:55:23 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.2ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:55:24 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:55:34 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.7ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:55:38 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:55:40 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:55:41 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.3ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:55:46 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:55:55 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.4ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:55:56 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.4ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:55:58 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.5ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 21:56:04 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"2112", "description"=>"3123123"}}
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `description`, `created_at`, `updated_at`) VALUES ('2112', '3123123', '2017-09-17 13:56:04', '2017-09-17 13:56:04')[0m
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 10ms (Views: 0.4ms | ActiveRecord: 7.1ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:56:04 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.2ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:56:05 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:56:13 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:56:14 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.3ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:56:15 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:56:21 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:56:38 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:56:41 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:56:43 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:56:52 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:56:53 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:57:00 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.2ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:57:02 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.4ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:57:03 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.5ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:57:05 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.2ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:57:07 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.2ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:57:08 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.2ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 21:57:09 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.3ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 21:57:19 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 21:57:21 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.4ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 21:57:22 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:57:23 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.2ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:57:24 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.2ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:57:25 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 21:57:36 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 21:57:37 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.2ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 21:57:39 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 21:58:05 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.3ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 21:58:09 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.3ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 21:58:13 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.2ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 21:58:33 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.5ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 21:58:35 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 21:58:47 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 21:58:53 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.5ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 21:59:19 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.3ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 21:59:38 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 21:59:39 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.4ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 21:59:43 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 21:59:52 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 22:00:05 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.3ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 22:00:16 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 22:02:46 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
Completed 200 OK in 14ms (Views: 5.0ms | ActiveRecord: 0.9ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 22:05:29 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
Completed 200 OK in 12ms (Views: 4.0ms | ActiveRecord: 0.6ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 22:05:40 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.5ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 22:06:01 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
Completed 200 OK in 14ms (Views: 4.6ms | ActiveRecord: 1.9ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:06:10 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.7ms)


  
NoMethodError (undefined method `absolute_url' for #<String:0x007f96fd483cf8>):
  
app/models/book.rb:15:in `block in as_json'
app/models/book.rb:13:in `map'
app/models/book.rb:13:in `as_json'
app/controllers/books_controller.rb:8:in `index'
Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:06:11 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.5ms)


  
NoMethodError (undefined method `absolute_url' for #<String:0x007f96fc96eb10>):
  
app/models/book.rb:15:in `block in as_json'
app/models/book.rb:13:in `map'
app/models/book.rb:13:in `as_json'
app/controllers/books_controller.rb:8:in `index'
Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:06:41 +0800
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.5ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
Completed 200 OK in 32ms (Views: 25.7ms | ActiveRecord: 3.0ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:06:43 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 5ms (Views: 1.9ms | ActiveRecord: 1.0ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:06:45 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.8ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 22:06:46 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.4ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:06:47 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.7ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:06:48 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.5ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:07:44 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:07:55 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.9ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:07:58 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:07:58 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:08:00 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:08:03 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:08:06 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.9ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:08:07 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 1.2ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:08:29 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:08:32 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:08:43 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.9ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:08:52 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.9ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:09:05 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:09:06 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.9ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:09:10 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:09:13 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 1.0ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:09:20 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:09:57 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.7ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:09:59 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.7ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:10:00 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.5ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:10:05 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.7ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:10:20 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.5ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:10:29 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:10:38 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:10:42 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:11:01 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.5ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:11:05 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 1.0ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:11:08 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.9ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:11:13 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:11:16 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.9ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:11:18 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:11:20 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:11:25 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:11:57 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.5ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:11:59 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:12:04 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 1.0ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:12:06 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"23132", "covers_attributes"=>{"0"=>{"id"=>"1", "_destroy"=>"1"}, "1"=>{"id"=>"2", "_destroy"=>"1"}}}}
Unpermitted parameter: :_destroy
Unpermitted parameter: :_destroy
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find Cover with ID=1 for Book with ID=):
  
app/controllers/books_controller.rb:18:in `create'
Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:12:46 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 17ms (Views: 9.6ms | ActiveRecord: 1.6ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:12:49 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"23132", "covers_attributes"=>{"0"=>{"id"=>"1", "_destroy"=>"1"}, "1"=>{"id"=>"2", "_destroy"=>"1"}}}}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find Cover with ID=1 for Book with ID=):
  
app/controllers/books_controller.rb:18:in `create'
Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:13:43 +0800
Processing by BooksController#show as HTML
Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:13:50 +0800
  Parameters: {"id"=>"1"}
Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:13:50 +0800
Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:13:50 +0800
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 18ms (Views: 9.3ms | ActiveRecord: 2.1ms)


Processing by BooksController#index as JSON
Processing by BooksController#index as JSON
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mBook Load (6.5ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mBook Load (5.7ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.6ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.5ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.9ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 24ms (Views: 3.3ms | ActiveRecord: 17.8ms)


  [1m[36mCover Load (7.0ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (1.9ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.7ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
Completed 200 OK in 29ms (Views: 15.0ms | ActiveRecord: 11.6ms)


  [1m[36mCover Load (0.7ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
Completed 200 OK in 29ms (Views: 15.9ms | ActiveRecord: 10.5ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:13:51 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.6ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:13:54 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"23132", "covers_attributes"=>{"0"=>{"id"=>"1", "_destroy"=>"1"}, "1"=>{"id"=>"2", "_destroy"=>"1"}}}}
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find Cover with ID=1 for Book with ID=):
  
app/controllers/books_controller.rb:18:in `create'
Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:14:38 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.5ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:14:41 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"23132", "covers_attributes"=>{"0"=>{"id"=>"1", "_destroy"=>"1"}, "1"=>{"id"=>"2", "_destroy"=>"1"}}}}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find Cover with ID=1 for Book with ID=):
  
app/controllers/books_controller.rb:18:in `create'
Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:15:14 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.7ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:15:16 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:15:37 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.7ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:15:40 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"23132", "covers_attributes"=>{"0"=>{"id"=>"1", "_destroy"=>"1"}}}}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find Cover with ID=1 for Book with ID=):
  
app/controllers/books_controller.rb:18:in `create'
Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:15:50 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.5ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:15:56 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:16:00 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:16:01 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.7ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:16:10 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.7ms)


Started PATCH "/books/1.json" for 127.0.0.1 at 2017-09-17 22:16:13 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"23132", "covers_attributes"=>{"0"=>{"id"=>"1", "_destroy"=>"1"}, "1"=>{"id"=>"2", "_destroy"=>"1"}}}, "id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (6.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1 AND `covers`.`id` IN (1, 2)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 2[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/001/original/sac-12.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/001/thumb/sac-12.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/002/original/sac-13.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/002/thumb/sac-13.jpg
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 16ms (Views: 1.2ms | ActiveRecord: 7.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:16:13 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.7ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:16:14 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.5ms)


Started PATCH "/books/1.json" for 127.0.0.1 at 2017-09-17 22:16:24 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"23132", "covers_attributes"=>{"4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cc6e060 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-s1emef.jpg>, @original_filename="sac-9.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-9.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cc6df20 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-qui9wf.jpg>, @original_filename="sac-12.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"sac-12.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "6"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cc6dde0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-qm2us2.jpg>, @original_filename="sac-14.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][6][photo]\"; filename=\"sac-14.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "7"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cc6dca0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-3tk9vu.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][7][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}, "id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/bc8b70665adc9853df6489da1af1c99a20170917-49410-161un2j.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/bc8b70665adc9853df6489da1af1c99a20170917-49410-19z9st.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/bc8b70665adc9853df6489da1af1c99a20170917-49410-19z9st.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/1e8cbcb6df40d3704ebe2d0ff201cf3b20170917-49410-j6z07l.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e7539fb7337106587f59bcd69191fb1820170917-49410-1qq6asv.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e7539fb7337106587f59bcd69191fb1820170917-49410-165ff38.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e7539fb7337106587f59bcd69191fb1820170917-49410-165ff38.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/ec68c0f0f43a3d4d1dc48b622889e22120170917-49410-1ani0w.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-1a62bue.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-hja9b2.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-hja9b2.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/132efd1adcdf1bd695c1d592133cd1cb20170917-49410-6nl2t4.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-bm7xwq.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-1wgnn7l.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-1wgnn7l.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/5a182a92f843fe2cd014e06d44711eee20170917-49410-aohn7j.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/bc8b70665adc9853df6489da1af1c99a20170917-49410-pkeyz8.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e7539fb7337106587f59bcd69191fb1820170917-49410-9lymfa.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-ydkb7d.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-1asb82.jpg'
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:16:25', '2017-09-17 14:16:25', 'sac-9.jpg', 'image/jpeg', 673470, '2017-09-17 14:16:25')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:16:25', '2017-09-17 14:16:25', 'sac-12.jpg', 'image/jpeg', 550083, '2017-09-17 14:16:25')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:16:25', '2017-09-17 14:16:25', 'sac-14.jpg', 'image/jpeg', 620369, '2017-09-17 14:16:25')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:16:25', '2017-09-17 14:16:25', 'sac-15.jpg', 'image/jpeg', 662244, '2017-09-17 14:16:25')[0m
  [1m[35m (8.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 486ms (Views: 2.8ms | ActiveRecord: 9.7ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:16:25 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 1.0ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:16:26 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.6ms)


Started PATCH "/books/1.json" for 127.0.0.1 at 2017-09-17 22:16:31 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"23132", "covers_attributes"=>{"0"=>{"id"=>"3", "_destroy"=>"1"}, "1"=>{"id"=>"4", "_destroy"=>"1"}, "2"=>{"id"=>"5", "_destroy"=>"1"}, "3"=>{"id"=>"6", "_destroy"=>"1"}, "4"=>{"id"=>"7", "_destroy"=>"1"}, "5"=>{"id"=>"8", "_destroy"=>"1"}}}, "id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1 AND `covers`.`id` IN (3, 4, 5, 6, 7, 8)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 3[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 4[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 5[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 6[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 7[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 8[0m
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/003/original/sac-14.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/003/thumb/sac-14.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/004/original/sac-15.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/004/thumb/sac-15.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/005/original/sac-16.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/005/thumb/sac-16.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/006/original/sac-17.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/006/thumb/sac-17.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/007/original/sac-9.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/007/thumb/sac-9.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/008/original/sac-12.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/008/thumb/sac-12.jpg
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 29ms (Views: 1.6ms | ActiveRecord: 8.5ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:16:31 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:16:32 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.6ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:16:34 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 1.0ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:16:35 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:18:07 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:18:10 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.9ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:18:16 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:18:17 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:18:35 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:18:39 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:18:54 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.8ms)


Started PATCH "/books/1.json" for 127.0.0.1 at 2017-09-17 22:19:01 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"23132", "covers_attributes"=>{"2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94dd4ea10 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-m101vu.jpg>, @original_filename="sac-13.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-13.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}, "id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-49410-8rtj8g.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-49410-lpz78x.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-49410-lpz78x.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/15bdb12b6537ab4315a84b89a99d94f320170917-49410-1qlan03.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-49410-111uc2q.jpg'
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:01', '2017-09-17 14:19:01', 'sac-13.jpg', 'image/jpeg', 659948, '2017-09-17 14:19:01')[0m
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 129ms (Views: 1.6ms | ActiveRecord: 7.1ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:19:01 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.7ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:19:02 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.5ms)


Started PATCH "/books/1.json" for 127.0.0.1 at 2017-09-17 22:19:05 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"23132", "covers_attributes"=>{"1"=>{"id"=>"10", "_destroy"=>"1"}}}, "id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1 AND `covers`.`id` = 10[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 10[0m
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/010/original/sac-15.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/010/thumb/sac-15.jpg
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 14ms (Views: 1.3ms | ActiveRecord: 6.8ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:19:05 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:19:06 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.5ms)


Started PATCH "/books/1.json" for 127.0.0.1 at 2017-09-17 22:19:08 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"23132", "covers_attributes"=>{"0"=>{"id"=>"9", "_destroy"=>"1"}}}, "id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1 AND `covers`.`id` = 9[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 9[0m
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/009/original/sac-14.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/009/thumb/sac-14.jpg
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 13ms (Views: 0.9ms | ActiveRecord: 6.9ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:19:09 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:19:09 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.8ms)


Started PATCH "/books/1.json" for 127.0.0.1 at 2017-09-17 22:19:19 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"23132", "covers_attributes"=>{"1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d943858 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-xhptne.jpg>, @original_filename="sac-10.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-10.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d942e08 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-ohmrq8.jpg>, @original_filename="sac-11.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-11.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d942570 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-1clz6b.jpg>, @original_filename="sac-12.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-12.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d9417b0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-j7ja59.jpg>, @original_filename="sac-13.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-13.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d953640 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-30mlr9.jpg>, @original_filename="sac-14.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"sac-14.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "6"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d951fe8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-198sz3m.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][6][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "7"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d950580 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-4i1x5l.jpg>, @original_filename="sac-16.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][7][photo]\"; filename=\"sac-16.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "8"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d962ed8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-1k58ial.jpg>, @original_filename="sac-17.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][8][photo]\"; filename=\"sac-17.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "9"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d962b18 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-85hxug.jpg>, @original_filename="sac-18.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][9][photo]\"; filename=\"sac-18.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "10"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d962320 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-ezgnc1.jpg>, @original_filename="sac-19.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][10][photo]\"; filename=\"sac-19.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "11"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d961cb8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-xty5ru.jpg>, @original_filename="sac-20.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][11][photo]\"; filename=\"sac-20.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "12"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d9611f0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-1vlyn1b.jpg>, @original_filename="sac-21.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][12][photo]\"; filename=\"sac-21.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "13"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d961060 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-1pvl9e6.jpg>, @original_filename="sac-22.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][13][photo]\"; filename=\"sac-22.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "14"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d960d40 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-1fe8ecq.jpg>, @original_filename="sac-23.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][14][photo]\"; filename=\"sac-23.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "15"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d960a70 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-1m5u1n4.jpg>, @original_filename="sac-24.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][15][photo]\"; filename=\"sac-24.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "16"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d963bd0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-1ydgibv.jpg>, @original_filename="sac-25.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][16][photo]\"; filename=\"sac-25.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "17"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d962410 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-bgxfh.jpg>, @original_filename="sac-26.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][17][photo]\"; filename=\"sac-26.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "18"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d9613d0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-g2q3rh.jpg>, @original_filename="sac-27.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][18][photo]\"; filename=\"sac-27.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "19"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d960958 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-r2tfa8.jpg>, @original_filename="sac-28.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][19][photo]\"; filename=\"sac-28.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "20"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d960728 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-1ymydjs.jpg>, @original_filename="sac-29.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][20][photo]\"; filename=\"sac-29.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "21"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d960228 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-hhosrx.jpg>, @original_filename="sac-30.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][21][photo]\"; filename=\"sac-30.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "22"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d973a58 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-7oq3od.jpg>, @original_filename="sac-31.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][22][photo]\"; filename=\"sac-31.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "23"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94d970a60 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-fkm8ei.jpg>, @original_filename="sac-32.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][23][photo]\"; filename=\"sac-32.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}, "id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/a8c3e7834a6290dfefd8f17247f2926b20170917-49410-i0i75n.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/a8c3e7834a6290dfefd8f17247f2926b20170917-49410-bse7kz.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/a8c3e7834a6290dfefd8f17247f2926b20170917-49410-bse7kz.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/b5379aa4ba1d026d750d88837b85fad020170917-49410-1ozjoyi.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e5c56b7a45429bf1c9441319e24067e420170917-49410-m7hm53.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e5c56b7a45429bf1c9441319e24067e420170917-49410-17qr64a.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e5c56b7a45429bf1c9441319e24067e420170917-49410-17qr64a.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/20908dd43c39d38946b1b8fcb4352b6520170917-49410-1inx24t.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e7539fb7337106587f59bcd69191fb1820170917-49410-1aviotm.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e7539fb7337106587f59bcd69191fb1820170917-49410-mtnhz0.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e7539fb7337106587f59bcd69191fb1820170917-49410-mtnhz0.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/b5c0b50959173e44bae9ec810bbe059220170917-49410-15vkeg7.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-49410-1lsslo8.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-49410-1l55j3b.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-49410-1l55j3b.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/3680b6675446a02cd3bfb9738e22082020170917-49410-1b18mol.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-1pr03n3.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-1163u6g.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-1163u6g.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/06106839719a6c7caad31d8e4d33e79b20170917-49410-1mdwv97.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-1erwwt5.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-184l3aw.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-184l3aw.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/d859ddec40213ac41737f13d35f5210420170917-49410-w2zuvh.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-49410-1fijlni.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-49410-3avmvm.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-49410-3avmvm.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/9bc8a93a1066dbbfe374935f234f35d220170917-49410-1d9uylj.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/527136b939dce4186a5e9bc0914cbe1720170917-49410-t794oq.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/527136b939dce4186a5e9bc0914cbe1720170917-49410-1p7kefh.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/527136b939dce4186a5e9bc0914cbe1720170917-49410-1p7kefh.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/8e84a232d1f73339a106627606e6a6a020170917-49410-1a4hye.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/6bdf1a0197809a9664d80d752ce6259f20170917-49410-1xdaawp.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/6bdf1a0197809a9664d80d752ce6259f20170917-49410-q5a3ze.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/6bdf1a0197809a9664d80d752ce6259f20170917-49410-q5a3ze.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/526b554d1b8f71b9d3c10d2b6e0776dd20170917-49410-11b286.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/656adc99aa3693a623b52fd7dddd17b720170917-49410-819jw4.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/656adc99aa3693a623b52fd7dddd17b720170917-49410-5r7j5i.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/656adc99aa3693a623b52fd7dddd17b720170917-49410-5r7j5i.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/6712cb92022dba1ebcfd57ad888caacd20170917-49410-z5irqm.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/b5087402a5fd475dd6f2fcbc8ec39d0820170917-49410-udxv1e.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/b5087402a5fd475dd6f2fcbc8ec39d0820170917-49410-ui5ytx.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/b5087402a5fd475dd6f2fcbc8ec39d0820170917-49410-ui5ytx.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/55877dc8f2990f55054ea1cf87230c1320170917-49410-7somsb.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/b34e7d36ac8f5d335b9b89cffb10ce8220170917-49410-aokwx6.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/b34e7d36ac8f5d335b9b89cffb10ce8220170917-49410-1jpgzmy.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/b34e7d36ac8f5d335b9b89cffb10ce8220170917-49410-1jpgzmy.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/704a1448343b8b67636f705e53cd8c3820170917-49410-6hu5xa.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/d7a187fafeac97193753201e672ee9c320170917-49410-1ti90pz.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/d7a187fafeac97193753201e672ee9c320170917-49410-1mutqad.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/d7a187fafeac97193753201e672ee9c320170917-49410-1mutqad.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/b314db5528f6309690aeb6427512f5e120170917-49410-7hp8wo.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/44c30f818cb37c3c4cb6d0240316304e20170917-49410-phk12b.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/44c30f818cb37c3c4cb6d0240316304e20170917-49410-4o8xth.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/44c30f818cb37c3c4cb6d0240316304e20170917-49410-4o8xth.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/f8188082cce2ed541e41337384ea586d20170917-49410-kryktd.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/df72ba101acb37f614a66827f249a6d620170917-49410-1ny3frh.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/df72ba101acb37f614a66827f249a6d620170917-49410-1qi28vd.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/df72ba101acb37f614a66827f249a6d620170917-49410-1qi28vd.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c87ed1ba9c79d42fddb806e4ca464f0120170917-49410-42sesv.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e6c1c73606c0a3166744d4924d3b775720170917-49410-1vixi55.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e6c1c73606c0a3166744d4924d3b775720170917-49410-1k8561g.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e6c1c73606c0a3166744d4924d3b775720170917-49410-1k8561g.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/d2c881aab7b00bf2e7e1db509c17940620170917-49410-vfjznm.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/d8d692a5a1b43c90393ce4318c64424420170917-49410-8t4tkf.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/d8d692a5a1b43c90393ce4318c64424420170917-49410-dyf5o.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/d8d692a5a1b43c90393ce4318c64424420170917-49410-dyf5o.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/6c0ed74b5ed4f375e097fa793787a64720170917-49410-14nf7wa.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/fd7988936a30525ee793b40c5d544d5a20170917-49410-1t34ghz.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/fd7988936a30525ee793b40c5d544d5a20170917-49410-13tgxq3.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/fd7988936a30525ee793b40c5d544d5a20170917-49410-13tgxq3.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/7ae0ca72c8865e38750ea973ab5d624420170917-49410-t37ecd.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/aefab81b7fd1b854a999f021241fdd2a20170917-49410-1th0m7r.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/aefab81b7fd1b854a999f021241fdd2a20170917-49410-1tti34l.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/aefab81b7fd1b854a999f021241fdd2a20170917-49410-1tti34l.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/3b0d7f48945f873f62f23b647b83693020170917-49410-e8nzbs.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/d476ca733e143bb0a1a42fe40f09cca520170917-49410-1btst3u.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/d476ca733e143bb0a1a42fe40f09cca520170917-49410-1xor74w.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/d476ca733e143bb0a1a42fe40f09cca520170917-49410-1xor74w.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/bfdb9cefe6fe9d05e9fe71f91a590fa820170917-49410-1mx3far.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/8afc6e8a57d680b9fa0f4bce794d325420170917-49410-13eckr.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/8afc6e8a57d680b9fa0f4bce794d325420170917-49410-1kea8js.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/8afc6e8a57d680b9fa0f4bce794d325420170917-49410-1kea8js.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/0b0b92b2a4b70996342f95ae76fa030720170917-49410-cb897x.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/addf408410437f769b576f4b4932dc8020170917-49410-53riop.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/addf408410437f769b576f4b4932dc8020170917-49410-g95bol.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/addf408410437f769b576f4b4932dc8020170917-49410-g95bol.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/d8bb96c6f10121064d1822eba966afed20170917-49410-19j7ccn.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/8228c1091e878cbeda6c2dd67c2c015920170917-49410-u3f00r.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/8228c1091e878cbeda6c2dd67c2c015920170917-49410-dsgggz.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/8228c1091e878cbeda6c2dd67c2c015920170917-49410-dsgggz.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/385db2b0f1f96fb8c331761dbde9e02120170917-49410-10rekbb.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/a8c3e7834a6290dfefd8f17247f2926b20170917-49410-1yucw7z.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e5c56b7a45429bf1c9441319e24067e420170917-49410-9w84ab.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e7539fb7337106587f59bcd69191fb1820170917-49410-mlbvcz.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-49410-1u3sn9q.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-11jf9pw.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-ai32qt.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-49410-1ogul5g.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/527136b939dce4186a5e9bc0914cbe1720170917-49410-p59iqf.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/6bdf1a0197809a9664d80d752ce6259f20170917-49410-1tcmyah.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/656adc99aa3693a623b52fd7dddd17b720170917-49410-1gf8vem.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/b5087402a5fd475dd6f2fcbc8ec39d0820170917-49410-1dhdszh.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/b34e7d36ac8f5d335b9b89cffb10ce8220170917-49410-n0wc4l.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/d7a187fafeac97193753201e672ee9c320170917-49410-mroh9w.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/44c30f818cb37c3c4cb6d0240316304e20170917-49410-1lo19vk.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/df72ba101acb37f614a66827f249a6d620170917-49410-gtr6x6.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e6c1c73606c0a3166744d4924d3b775720170917-49410-vw49jg.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/d8d692a5a1b43c90393ce4318c64424420170917-49410-3jiry3.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/fd7988936a30525ee793b40c5d544d5a20170917-49410-xyxgue.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/aefab81b7fd1b854a999f021241fdd2a20170917-49410-servrj.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/d476ca733e143bb0a1a42fe40f09cca520170917-49410-31zrug.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/8afc6e8a57d680b9fa0f4bce794d325420170917-49410-162bt4f.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/addf408410437f769b576f4b4932dc8020170917-49410-dmbpby.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/8228c1091e878cbeda6c2dd67c2c015920170917-49410-1fs6bdu.jpg'
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-10.jpg', 'image/jpeg', 769968, '2017-09-17 14:19:19')[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-11.jpg', 'image/jpeg', 496753, '2017-09-17 14:19:19')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-12.jpg', 'image/jpeg', 550083, '2017-09-17 14:19:19')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-13.jpg', 'image/jpeg', 659948, '2017-09-17 14:19:19')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-14.jpg', 'image/jpeg', 620369, '2017-09-17 14:19:19')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-15.jpg', 'image/jpeg', 662244, '2017-09-17 14:19:19')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-16.jpg', 'image/jpeg', 527293, '2017-09-17 14:19:20')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-17.jpg', 'image/jpeg', 735630, '2017-09-17 14:19:20')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-18.jpg', 'image/jpeg', 640810, '2017-09-17 14:19:20')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-19.jpg', 'image/jpeg', 643631, '2017-09-17 14:19:20')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-20.jpg', 'image/jpeg', 612917, '2017-09-17 14:19:20')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-21.jpg', 'image/jpeg', 1171063, '2017-09-17 14:19:20')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-22.jpg', 'image/jpeg', 419583, '2017-09-17 14:19:20')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-23.jpg', 'image/jpeg', 1389086, '2017-09-17 14:19:21')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-24.jpg', 'image/jpeg', 689932, '2017-09-17 14:19:21')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-25.jpg', 'image/jpeg', 462695, '2017-09-17 14:19:21')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-26.jpg', 'image/jpeg', 698207, '2017-09-17 14:19:21')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-27.jpg', 'image/jpeg', 432538, '2017-09-17 14:19:21')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-28.jpg', 'image/jpeg', 933223, '2017-09-17 14:19:21')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-29.jpg', 'image/jpeg', 610103, '2017-09-17 14:19:21')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-30.jpg', 'image/jpeg', 597136, '2017-09-17 14:19:22')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-31.jpg', 'image/jpeg', 594709, '2017-09-17 14:19:22')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (1, '2017-09-17 14:19:22', '2017-09-17 14:19:22', 'sac-32.jpg', 'image/jpeg', 607669, '2017-09-17 14:19:22')[0m
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3422ms (Views: 9.0ms | ActiveRecord: 13.1ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:19:32 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.9ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:19:36 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.6ms)


Started PATCH "/books/1.json" for 127.0.0.1 at 2017-09-17 22:19:48 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"23132", "covers_attributes"=>{"0"=>{"id"=>"11", "_destroy"=>"1"}, "1"=>{"id"=>"12", "_destroy"=>"1"}, "2"=>{"id"=>"13", "_destroy"=>"1"}, "3"=>{"id"=>"14", "_destroy"=>"1"}, "4"=>{"id"=>"15", "_destroy"=>"1"}, "5"=>{"id"=>"16", "_destroy"=>"1"}, "6"=>{"id"=>"17", "_destroy"=>"1"}, "7"=>{"id"=>"18", "_destroy"=>"1"}, "8"=>{"id"=>"19", "_destroy"=>"1"}, "10"=>{"id"=>"21", "_destroy"=>"1"}, "15"=>{"id"=>"26", "_destroy"=>"1"}, "17"=>{"id"=>"28", "_destroy"=>"1"}}}, "id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.5ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1 AND `covers`.`id` IN (11, 12, 13, 14, 15, 16, 17, 18, 19, 21, 26, 28)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 11[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 12[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 13[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 14[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 15[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 16[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 17[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 18[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 19[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 21[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 26[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 28[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/011/original/sac-13.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/011/thumb/sac-13.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/012/original/sac-10.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/012/thumb/sac-10.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/013/original/sac-11.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/013/thumb/sac-11.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/014/original/sac-12.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/014/thumb/sac-12.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/015/original/sac-13.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/015/thumb/sac-13.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/016/original/sac-14.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/016/thumb/sac-14.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/017/original/sac-15.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/017/thumb/sac-15.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/018/original/sac-16.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/018/thumb/sac-16.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/019/original/sac-17.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/019/thumb/sac-17.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/021/original/sac-19.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/021/thumb/sac-19.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/026/original/sac-24.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/026/thumb/sac-24.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/028/original/sac-26.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/028/thumb/sac-26.jpg
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 62ms (Views: 2.5ms | ActiveRecord: 4.1ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:19:48 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:19:49 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.7ms)


Started PATCH "/books/1.json" for 127.0.0.1 at 2017-09-17 22:20:03 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"23132", "covers_attributes"=>{"0"=>{"id"=>"20", "_destroy"=>"1"}, "1"=>{"id"=>"22", "_destroy"=>"1"}, "2"=>{"id"=>"23", "_destroy"=>"1"}, "3"=>{"id"=>"24", "_destroy"=>"1"}, "4"=>{"id"=>"25", "_destroy"=>"1"}, "5"=>{"id"=>"27", "_destroy"=>"1"}}}, "id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1 AND `covers`.`id` IN (20, 22, 23, 24, 25, 27)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 20[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 22[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 23[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 24[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 25[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 27[0m
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/020/original/sac-18.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/020/thumb/sac-18.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/022/original/sac-20.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/022/thumb/sac-20.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/023/original/sac-21.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/023/thumb/sac-21.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/024/original/sac-22.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/024/thumb/sac-22.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/025/original/sac-23.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/025/thumb/sac-23.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/027/original/sac-25.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/027/thumb/sac-25.jpg
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 32ms (Views: 1.7ms | ActiveRecord: 7.9ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:20:03 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 1.0ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:20:06 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.5ms)


Started PATCH "/books/1.json" for 127.0.0.1 at 2017-09-17 22:20:09 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"23132", "covers_attributes"=>{"1"=>{"id"=>"30", "_destroy"=>"1"}, "2"=>{"id"=>"31", "_destroy"=>"1"}}}, "id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1 AND `covers`.`id` IN (30, 31)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 30[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 31[0m
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/030/original/sac-28.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/030/thumb/sac-28.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/031/original/sac-29.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/031/thumb/sac-29.jpg
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 17ms (Views: 2.1ms | ActiveRecord: 7.0ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:20:09 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:20:10 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.7ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:20:24 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.9ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:20:25 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:20:55 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.7ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:20:59 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.5ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:21:00 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.7ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:21:07 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.9ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:21:11 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.7ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:21:13 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:21:17 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 1.0ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:21:32 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:21:33 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.9ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:21:41 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.5ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 1.1ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:21:43 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.5ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:25:25 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94c4868e8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-knpsin.jpg>, @original_filename="sac-13.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-13.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94c486438 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-mtumhu.jpg>, @original_filename="sac-14.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-14.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94c485df8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-1l7b9wh.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94c4859e8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-yjg44p.jpg>, @original_filename="sac-16.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-16.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-49410-1g20818.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-49410-17bnam8.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-49410-17bnam8.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/a64d9a119db97aefcd3eb2d77f6a12ac20170917-49410-cuhfhk.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-hgqx1s.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-9lxoym.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-9lxoym.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/35fee09b3057927bdc1ce8824c10db6320170917-49410-7hr3ps.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-129tr1v.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-1ok08vg.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-1ok08vg.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/7c41b0e49db21512e50e87d13f3927db20170917-49410-1njzmso.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-49410-c2wrxp.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-49410-61ueqf.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-49410-61ueqf.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/ba473cd302ceec4c8ccad7581b31b30420170917-49410-sx86u3.jpg'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-49410-1jhvim0.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-11byg7w.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-17l9lpl.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-49410-sqc4h4.jpg'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 533ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:25:41 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"123123", "description"=>"123123", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff951a6afe8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-114gfwy.jpg>, @original_filename="sac-6.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-6.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff951a6aea8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-8q4zt.jpg>, @original_filename="sac-7.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-7.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff951a6ad40 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-8tklpw.jpg>, @original_filename="sac-8.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-8.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff951a6abd8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-1o7qbun.jpg>, @original_filename="sac-9.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-9.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff951a6aa48 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-1vw77uh.jpg>, @original_filename="sac-10.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-10.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff951a6a908 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-1lidcc.jpg>, @original_filename="sac-11.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"sac-11.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/0428d67bf6feb38e57ac5a9d523316f820170917-49410-1tps22f.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/0428d67bf6feb38e57ac5a9d523316f820170917-49410-7i4idh.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/0428d67bf6feb38e57ac5a9d523316f820170917-49410-7i4idh.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/f951f47a49a436cfa520ff402e283a1b20170917-49410-1pqw0yb.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/dcda5f3625763e4d64a95628d8e2a09920170917-49410-14h44c4.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/dcda5f3625763e4d64a95628d8e2a09920170917-49410-z4c8wy.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/dcda5f3625763e4d64a95628d8e2a09920170917-49410-z4c8wy.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/1ac5477bf6d89ad475a2eaa1c31d070820170917-49410-4zl5k7.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/99e9a493cd62a0d7634de6f4d5d0490d20170917-49410-vjbz4c.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/99e9a493cd62a0d7634de6f4d5d0490d20170917-49410-fmv13p.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/99e9a493cd62a0d7634de6f4d5d0490d20170917-49410-fmv13p.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/4b9a37fb3937acdaeb15504582929e9020170917-49410-1fzgb3m.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/bc8b70665adc9853df6489da1af1c99a20170917-49410-1oq2ffd.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/bc8b70665adc9853df6489da1af1c99a20170917-49410-t4ycb4.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/bc8b70665adc9853df6489da1af1c99a20170917-49410-t4ycb4.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/43082d5eed71665db442caacdb56f6b920170917-49410-1w2erxi.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/a8c3e7834a6290dfefd8f17247f2926b20170917-49410-14e8vmf.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/a8c3e7834a6290dfefd8f17247f2926b20170917-49410-1hqh7hm.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/a8c3e7834a6290dfefd8f17247f2926b20170917-49410-1hqh7hm.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/3b05fbed45d294dcaaa729d36807ed9f20170917-49410-1w9ns5m.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e5c56b7a45429bf1c9441319e24067e420170917-49410-r74snh.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e5c56b7a45429bf1c9441319e24067e420170917-49410-1jltviy.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e5c56b7a45429bf1c9441319e24067e420170917-49410-1jltviy.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/2a3c80c2029df987c2befe47aaf04af820170917-49410-j0fik6.jpg'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/0428d67bf6feb38e57ac5a9d523316f820170917-49410-tzludd.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/dcda5f3625763e4d64a95628d8e2a09920170917-49410-runjuv.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/99e9a493cd62a0d7634de6f4d5d0490d20170917-49410-1nwee0v.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/bc8b70665adc9853df6489da1af1c99a20170917-49410-1yu3i4r.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/a8c3e7834a6290dfefd8f17247f2926b20170917-49410-y899ky.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e5c56b7a45429bf1c9441319e24067e420170917-49410-1tjes5m.jpg'
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `description`, `created_at`, `updated_at`) VALUES ('123123', '123123', '2017-09-17 14:25:42', '2017-09-17 14:25:42')[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (4, '2017-09-17 14:25:42', '2017-09-17 14:25:42', 'sac-6.jpg', 'image/jpeg', 585396, '2017-09-17 14:25:41')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (4, '2017-09-17 14:25:42', '2017-09-17 14:25:42', 'sac-7.jpg', 'image/jpeg', 670875, '2017-09-17 14:25:41')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (4, '2017-09-17 14:25:42', '2017-09-17 14:25:42', 'sac-8.jpg', 'image/jpeg', 485054, '2017-09-17 14:25:41')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (4, '2017-09-17 14:25:42', '2017-09-17 14:25:42', 'sac-9.jpg', 'image/jpeg', 673470, '2017-09-17 14:25:41')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (4, '2017-09-17 14:25:42', '2017-09-17 14:25:42', 'sac-10.jpg', 'image/jpeg', 769968, '2017-09-17 14:25:41')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (4, '2017-09-17 14:25:42', '2017-09-17 14:25:42', 'sac-11.jpg', 'image/jpeg', 496753, '2017-09-17 14:25:42')[0m
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
Completed 201 Created in 842ms (Views: 4.0ms | ActiveRecord: 7.8ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:25:42 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 1.2ms)


Started GET "/books/4" for 127.0.0.1 at 2017-09-17 22:25:45 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 4 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.5ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:25:46 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 1.3ms)


Started GET "/books/4" for 127.0.0.1 at 2017-09-17 22:25:47 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 4 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.4ms)


Started PATCH "/books/4.json" for 127.0.0.1 at 2017-09-17 22:25:51 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"123123", "description"=>"123123", "covers_attributes"=>{"0"=>{"id"=>"35", "_destroy"=>"1"}, "1"=>{"id"=>"36", "_destroy"=>"1"}}}, "id"=>"4"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4 AND `covers`.`id` IN (35, 36)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 35[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 36[0m
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/035/original/sac-6.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/035/thumb/sac-6.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/036/original/sac-7.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/036/thumb/sac-7.jpg
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
Completed 200 OK in 16ms (Views: 2.2ms | ActiveRecord: 7.2ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:25:51 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 1.3ms)


Started GET "/books/4" for 127.0.0.1 at 2017-09-17 22:25:52 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 4 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.4ms)


Started GET "/books/4" for 127.0.0.1 at 2017-09-17 22:26:12 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 4 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
Completed 200 OK in 17ms (Views: 9.3ms | ActiveRecord: 0.6ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:26:13 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.8ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:26:17 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>""}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:26:27 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 11ms (Views: 0.1ms | ActiveRecord: 1.2ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:27:05 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>""}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:27:53 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:28:13 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:29:01 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94de483a8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-2ztvva.jpg>, @original_filename="sac-12.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-12.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94de48268 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-1b25syq.jpg>, @original_filename="sac-13.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-13.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94de480d8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-1es0nel.jpg>, @original_filename="sac-14.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-14.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94de43f88 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-1bm1arb.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94de43dd0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-l6sr1q.jpg>, @original_filename="sac-16.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-16.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94de43c68 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-yw6f92.jpg>, @original_filename="sac-17.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"sac-17.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "6"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94de43b28 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-1gpmyn3.jpg>, @original_filename="sac-18.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][6][photo]\"; filename=\"sac-18.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e7539fb7337106587f59bcd69191fb1820170917-49410-wdtpei.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e7539fb7337106587f59bcd69191fb1820170917-49410-3vi2ph.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e7539fb7337106587f59bcd69191fb1820170917-49410-3vi2ph.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/55fb8e6f31d6082be59c72c932acfe3a20170917-49410-1tg1st0.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-49410-s7q7g1.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-49410-9vovvl.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-49410-9vovvl.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/13629c5ba6ff3148baa0335a2ce8da5220170917-49410-ik7qwb.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-1917yfg.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-if22xg.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-if22xg.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/633d5dbaae03f11425de2eab7170c9c620170917-49410-igqoje.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-f6b8xe.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-wexxea.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-wexxea.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/a2e7246d74ea12663362f931b29ca86420170917-49410-1srcrjg.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-49410-1c3gws4.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-49410-yf5y8h.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-49410-yf5y8h.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/820c7650a103c3208537e40198eb528a20170917-49410-1xe634y.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/527136b939dce4186a5e9bc0914cbe1720170917-49410-79ruvx.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/527136b939dce4186a5e9bc0914cbe1720170917-49410-w6zlu.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/527136b939dce4186a5e9bc0914cbe1720170917-49410-w6zlu.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/ab9714c855460eacaac1d87d034ac27820170917-49410-1qfkip1.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/6bdf1a0197809a9664d80d752ce6259f20170917-49410-14hd3t8.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/6bdf1a0197809a9664d80d752ce6259f20170917-49410-1q0c37w.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/6bdf1a0197809a9664d80d752ce6259f20170917-49410-1q0c37w.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/ae7a901b5593b825585bfff269424d4420170917-49410-4qeset.jpg'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e7539fb7337106587f59bcd69191fb1820170917-49410-vsk1n3.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-49410-1f43id.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-3481z6.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-e1fbzg.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-49410-1axzl31.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/527136b939dce4186a5e9bc0914cbe1720170917-49410-14cu24v.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/6bdf1a0197809a9664d80d752ce6259f20170917-49410-1v7p2mw.jpg'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 982ms (Views: 0.2ms | ActiveRecord: 1.0ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:29:13 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"312313", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cc5dc38 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-nbw77f.jpg>, @original_filename="sac-12.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-12.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cc5daf8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-9f8djx.jpg>, @original_filename="sac-13.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-13.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cc5d9b8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-17t6wwc.jpg>, @original_filename="sac-14.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-14.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cc5d800 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-v6hd4v.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cc5d6c0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-o1imsj.jpg>, @original_filename="sac-16.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-16.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cc5d440 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-l0t8w1.jpg>, @original_filename="sac-17.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"sac-17.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "6"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cc5d260 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-htn9ce.jpg>, @original_filename="sac-18.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][6][photo]\"; filename=\"sac-18.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e7539fb7337106587f59bcd69191fb1820170917-49410-15cfo88.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e7539fb7337106587f59bcd69191fb1820170917-49410-1buiy7e.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e7539fb7337106587f59bcd69191fb1820170917-49410-1buiy7e.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/05716bdb2e9f391466d8fa83cad93cd720170917-49410-xbd9o1.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-49410-1i3y1q1.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-49410-1ampx51.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-49410-1ampx51.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/47b7a7fdc6f083d5400031c9e1088f9320170917-49410-5dfriz.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-bkl2ca.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-stx3jk.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-stx3jk.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/88f0953a0dae00beff397d895e2fe99320170917-49410-s22rkp.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-1ll9py6.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-1ovd23i.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-1ovd23i.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/ed9b2eb74221fb43b22632e1e9a257c320170917-49410-17v2vq.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-49410-vhppbk.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-49410-m73ihi.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-49410-m73ihi.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/ee902026e85aaa494813a3c830dd193b20170917-49410-1g0kuqg.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/527136b939dce4186a5e9bc0914cbe1720170917-49410-samin4.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/527136b939dce4186a5e9bc0914cbe1720170917-49410-sgt675.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/527136b939dce4186a5e9bc0914cbe1720170917-49410-sgt675.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/d59405571eb451b6831edc1d39fcb38b20170917-49410-18j1jlu.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/6bdf1a0197809a9664d80d752ce6259f20170917-49410-1p5t2lc.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/6bdf1a0197809a9664d80d752ce6259f20170917-49410-7supfp.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/6bdf1a0197809a9664d80d752ce6259f20170917-49410-7supfp.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/864d0c38a2d2f3d1f02efbcb8ce0915020170917-49410-if11i1.jpg'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/e7539fb7337106587f59bcd69191fb1820170917-49410-1gdrplh.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c6b464b0eb9c035e4faac9460c2824bb20170917-49410-94h5qu.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-47tejt.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-1bzx04x.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-49410-q23dpw.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/527136b939dce4186a5e9bc0914cbe1720170917-49410-p75k9w.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/6bdf1a0197809a9664d80d752ce6259f20170917-49410-3jv0sj.jpg'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 824ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:29:44 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:29:45 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:29:45 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>""}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:29:46 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:29:46 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:29:52 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"12313", "description"=>"123123", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cac5880 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-138v10z.jpg>, @original_filename="sac-14.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"sac-14.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cac5740 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-micwh7.jpg>, @original_filename="sac-15.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"sac-15.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cac55d8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-ve2fkt.jpg>, @original_filename="sac-16.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"sac-16.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cac5498 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-15k8c7x.jpg>, @original_filename="sac-17.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"sac-17.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cac5358 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-5x02k9.jpg>, @original_filename="sac-18.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"sac-18.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cac51a0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-1g96a7c.jpg>, @original_filename="sac-19.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"sac-19.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-aptd4f.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-pj8fpl.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-pj8fpl.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/504633d0af0ca0b098bc5f7d745b24eb20170917-49410-1uqh3ta.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-19m5ii2.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-1op0zl8.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-1op0zl8.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/1a8023b5e4aedf917fe6e02727639bcb20170917-49410-1hyhv0y.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-49410-11sfvam.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-49410-16mclel.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-49410-16mclel.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/7c948867b0d7b8dfe87f4f14b374f40620170917-49410-b8c47u.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/527136b939dce4186a5e9bc0914cbe1720170917-49410-gnbaaz.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/527136b939dce4186a5e9bc0914cbe1720170917-49410-1jt1lhi.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/527136b939dce4186a5e9bc0914cbe1720170917-49410-1jt1lhi.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/071564a6babd6564748070eae3d8b06d20170917-49410-5occ8u.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/6bdf1a0197809a9664d80d752ce6259f20170917-49410-nqrn1f.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/6bdf1a0197809a9664d80d752ce6259f20170917-49410-1a9efcj.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/6bdf1a0197809a9664d80d752ce6259f20170917-49410-1a9efcj.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/938001f8ece7f82f78f69bacd95af97d20170917-49410-vmdqwx.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/656adc99aa3693a623b52fd7dddd17b720170917-49410-1c2ciqj.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/656adc99aa3693a623b52fd7dddd17b720170917-49410-8e72nt.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/656adc99aa3693a623b52fd7dddd17b720170917-49410-8e72nt.jpg[0]' -auto-orient -resize "x32" -crop "32x32+7+0" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/d1d4c226647551b5fb9c64fd59bd4b2120170917-49410-w5ipvx.jpg'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/713a383094729204617177d004dd2d4f20170917-49410-3wiv5p.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/772fdd85c51aae01c9ecdda9f8c3d52820170917-49410-11pbizd.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/01e46adab28fcd3939d9b9817f47e8b720170917-49410-6wieww.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/527136b939dce4186a5e9bc0914cbe1720170917-49410-jdifgp.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/6bdf1a0197809a9664d80d752ce6259f20170917-49410-1t3t4dr.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/656adc99aa3693a623b52fd7dddd17b720170917-49410-1gh0m72.jpg'
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `description`, `created_at`, `updated_at`) VALUES ('12313', '123123', '2017-09-17 14:29:53', '2017-09-17 14:29:53')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (5, '2017-09-17 14:29:53', '2017-09-17 14:29:53', 'sac-14.jpg', 'image/jpeg', 620369, '2017-09-17 14:29:52')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (5, '2017-09-17 14:29:53', '2017-09-17 14:29:53', 'sac-15.jpg', 'image/jpeg', 662244, '2017-09-17 14:29:52')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (5, '2017-09-17 14:29:53', '2017-09-17 14:29:53', 'sac-16.jpg', 'image/jpeg', 527293, '2017-09-17 14:29:52')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (5, '2017-09-17 14:29:53', '2017-09-17 14:29:53', 'sac-17.jpg', 'image/jpeg', 735630, '2017-09-17 14:29:52')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (5, '2017-09-17 14:29:53', '2017-09-17 14:29:53', 'sac-18.jpg', 'image/jpeg', 640810, '2017-09-17 14:29:52')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (5, '2017-09-17 14:29:53', '2017-09-17 14:29:53', 'sac-19.jpg', 'image/jpeg', 643631, '2017-09-17 14:29:53')[0m
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 741ms (ActiveRecord: 7.8ms)


  
NameError (undefined local variable or method `errorthis' for #<Book:0x007ff9518af050>
Did you mean?  errors
               @errors):
  
app/models/book.rb:13:in `as_json'
app/controllers/books_controller.rb:21:in `create'
Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:30:22 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.1ms | ActiveRecord: 0.8ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:30:24 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"12313", "description"=>""}}
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.6ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:30:25 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"12313", "description"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:30:52 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>""}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:30:54 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"1313"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:31:06 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:31:11 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"123123", "description"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:31:55 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:31:56 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"12313", "description"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:32:38 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>""}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:32:40 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"213123"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:32:57 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>""}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:33:01 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"12313", "description"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:33:51 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"12313", "description"=>""}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:33:52 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"12313", "description"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:33:53 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"12313", "description"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:33:53 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"12313", "description"=>""}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:33:53 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"12313", "description"=>""}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:34:01 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:34:03 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"123123"}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:34:28 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:34:30 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"123123"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:34:32 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"123123", "description"=>"123123"}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `description`, `created_at`, `updated_at`) VALUES ('123123', '123123', '2017-09-17 14:34:32', '2017-09-17 14:34:32')[0m
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 201 Created in 14ms (Views: 4.4ms | ActiveRecord: 7.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:34:32 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.5ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 14ms (Views: 12.0ms | ActiveRecord: 2.1ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:34:33 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.4ms)


Started PATCH "/books/1.json" for 127.0.0.1 at 2017-09-17 22:34:36 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>""}, "id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.5ms | ActiveRecord: 0.5ms)


Started PATCH "/books/1.json" for 127.0.0.1 at 2017-09-17 22:34:39 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>""}, "id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:35:01 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.7ms)


Started PATCH "/books/1.json" for 127.0.0.1 at 2017-09-17 22:35:03 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>""}, "id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.5ms)


Started PATCH "/books/1.json" for 127.0.0.1 at 2017-09-17 22:35:41 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>""}, "id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:35:45 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 1.7ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:35:46 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.5ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:36:04 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.3ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:36:05 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:36:06 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:36:07 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:36:10 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:36:13 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:36:42 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:36:44 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.6ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:36:46 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 1.5ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:38:35 +0800
Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:38:35 +0800
Processing by BooksController#index as JSON
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.9ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (1.6ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 5ms (Views: 1.6ms | ActiveRecord: 2.5ms)


  [1m[36mCover Load (1.7ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 13ms (Views: 8.1ms | ActiveRecord: 4.4ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:38:35 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 1.2ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:38:42 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 1.4ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:38:54 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 1.1ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:39:03 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 1.0ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:39:05 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 1.1ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:39:18 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 1.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:39:20 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 1.5ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:39:25 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 1.1ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:39:28 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 1.9ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:39:30 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 1.0ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:39:31 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.5ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:39:32 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 1.2ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 22:39:33 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.6ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:39:34 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 1.0ms)


Started GET "/books/4" for 127.0.0.1 at 2017-09-17 22:39:34 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 4 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.4ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:39:36 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 1.4ms)


Started GET "/books/5" for 127.0.0.1 at 2017-09-17 22:39:37 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 5 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.6ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:39:38 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 1.1ms)


Started GET "/books/3" for 127.0.0.1 at 2017-09-17 22:41:23 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 3 LIMIT 1[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:41:24 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 1.3ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:41:27 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.5ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:41:28 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 1.2ms)


Started GET "/books/2" for 127.0.0.1 at 2017-09-17 22:41:29 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.7ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:41:30 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 1.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:42:21 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.5ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:42:23 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 1.2ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:44:56 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 1.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:44:56 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.5ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:45:26 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:45:37 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.5ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:45:45 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.7ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:45:47 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.7ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:45:49 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:46:03 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.7ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:46:09 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:46:11 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.5ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:46:13 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:48:33 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.5ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:49:00 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.5ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:49:16 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:49:17 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.8ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:50:12 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.5ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:50:13 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.4ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:50:31 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:50:42 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:50:45 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:51:01 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.4ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:51:07 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:51:09 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.5ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:51:23 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.5ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:51:26 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.5ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:51:29 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.5ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:51:31 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:51:58 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.7ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:52:27 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.6ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:52:37 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.7ms)


Started GET "/books/1" for 127.0.0.1 at 2017-09-17 22:52:47 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.7ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:53:07 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 1.5ms)


Started DELETE "/books/1" for 127.0.0.1 at 2017-09-17 22:53:14 +0800
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 29[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 32[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 33[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 34[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `books` WHERE `books`.`id` = 1[0m
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/029/original/sac-27.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/029/thumb/sac-27.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/032/original/sac-30.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/032/thumb/sac-30.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/033/original/sac-31.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/033/thumb/sac-31.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/034/original/sac-32.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/034/thumb/sac-32.jpg
Completed 204 No Content in 15ms (ActiveRecord: 5.3ms)


Started DELETE "/books/2" for 127.0.0.1 at 2017-09-17 22:53:16 +0800
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 2[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `books` WHERE `books`.`id` = 2[0m
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 8ms (ActiveRecord: 6.0ms)


Started DELETE "/books/3" for 127.0.0.1 at 2017-09-17 22:53:16 +0800
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 3[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `books` WHERE `books`.`id` = 3[0m
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 8ms (ActiveRecord: 6.2ms)


Started DELETE "/books/4" for 127.0.0.1 at 2017-09-17 22:53:16 +0800
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"4"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 4[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 37[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 38[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 39[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 40[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `books` WHERE `books`.`id` = 4[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/037/original/sac-8.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/037/thumb/sac-8.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/038/original/sac-9.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/038/thumb/sac-9.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/039/original/sac-10.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/039/thumb/sac-10.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/040/original/sac-11.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/040/thumb/sac-11.jpg
Completed 204 No Content in 13ms (ActiveRecord: 3.0ms)


Started DELETE "/books/5" for 127.0.0.1 at 2017-09-17 22:53:17 +0800
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"5"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 5[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 41[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 42[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 43[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 44[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 45[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 46[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `books` WHERE `books`.`id` = 5[0m
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/041/original/sac-14.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/041/thumb/sac-14.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/042/original/sac-15.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/042/thumb/sac-15.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/043/original/sac-16.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/043/thumb/sac-16.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/044/original/sac-17.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/044/thumb/sac-17.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/045/original/sac-18.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/045/thumb/sac-18.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/046/original/sac-19.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/046/thumb/sac-19.jpg
Completed 204 No Content in 19ms (ActiveRecord: 7.2ms)


Started DELETE "/books/6" for 127.0.0.1 at 2017-09-17 22:53:17 +0800
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"6"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 6[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `books` WHERE `books`.`id` = 6[0m
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 4ms (ActiveRecord: 2.3ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:55:30 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>""}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 22:55:41 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"3123123", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff9519fb4b8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-geupp6.jpg>, @original_filename="73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff9519fb378 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-11ipmpx.jpg>, @original_filename="Catching-fire-book-cover.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"Catching-fire-book-cover.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff9519fb238 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-up3ogz.jpg>, @original_filename="Enchantment-Book-Cover-Best-Seller1.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"Enchantment-Book-Cover-Best-Seller1.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff9519fb0f8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-10iarkv.jpeg>, @original_filename="images-2.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"images-2.jpeg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff9519fafb8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-pd6tj4.jpeg>, @original_filename="images.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"images.jpeg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff9519fadd8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-7dghpq.jpg>, @original_filename="original.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"original.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/009d9d78bf6ccfd065e62143a67c70f920170917-49410-1elilid.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/009d9d78bf6ccfd065e62143a67c70f920170917-49410-jo0mqw.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/009d9d78bf6ccfd065e62143a67c70f920170917-49410-jo0mqw.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+9" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/fdcff07c140676d93011a182c7660c6220170917-49410-14q3a6c.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/3d2ba4f5e8ed7a86b3e732b06fbc63d620170917-49410-iy5gvp.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/3d2ba4f5e8ed7a86b3e732b06fbc63d620170917-49410-biu0yp.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/3d2ba4f5e8ed7a86b3e732b06fbc63d620170917-49410-biu0yp.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/5dad004868de7d5fb6de30caeb90c89a20170917-49410-1acnxo6.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170917-49410-zoekzo.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170917-49410-1333lb.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170917-49410-1333lb.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/5f0a4e7bde74d24016af33d4d98fbfe120170917-49410-1y8dtew.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170917-49410-xuk26.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170917-49410-1yg6swb.jpeg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170917-49410-1yg6swb.jpeg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/2578f2ca1ae074500dc162c6d607913c20170917-49410-1nc9x3g.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/59b514174bffe4ae402b3d63aad79fe020170917-49410-165sezy.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/59b514174bffe4ae402b3d63aad79fe020170917-49410-mvs87b.jpeg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/59b514174bffe4ae402b3d63aad79fe020170917-49410-mvs87b.jpeg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/5a13a1bd13d16b367dadf38349ccad9520170917-49410-1sigrno.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170917-49410-p18fw.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170917-49410-embe3c.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170917-49410-embe3c.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/d40eb0a5bfd69beeaf8e0f08d522eeb020170917-49410-izp8g1.jpg'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/009d9d78bf6ccfd065e62143a67c70f920170917-49410-vzfxxj.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/3d2ba4f5e8ed7a86b3e732b06fbc63d620170917-49410-fy6ul5.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170917-49410-1lf1sfs.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170917-49410-12d61ys.jpeg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/59b514174bffe4ae402b3d63aad79fe020170917-49410-1gjau2b.jpeg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170917-49410-7jrxyq.jpg'
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `description`, `created_at`, `updated_at`) VALUES ('1231', '3123123', '2017-09-17 14:55:42', '2017-09-17 14:55:42')[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (7, '2017-09-17 14:55:42', '2017-09-17 14:55:42', '73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg', 'image/jpeg', 71280, '2017-09-17 14:55:41')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (7, '2017-09-17 14:55:42', '2017-09-17 14:55:42', 'Catching-fire-book-cover.jpg', 'image/jpeg', 64727, '2017-09-17 14:55:41')[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (7, '2017-09-17 14:55:42', '2017-09-17 14:55:42', 'Enchantment-Book-Cover-Best-Seller1.jpg', 'image/jpeg', 198125, '2017-09-17 14:55:41')[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (7, '2017-09-17 14:55:42', '2017-09-17 14:55:42', 'images-2.jpeg', 'image/jpeg', 11093, '2017-09-17 14:55:42')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (7, '2017-09-17 14:55:42', '2017-09-17 14:55:42', 'images.jpeg', 'image/jpeg', 8156, '2017-09-17 14:55:42')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (7, '2017-09-17 14:55:42', '2017-09-17 14:55:42', 'original.jpg', 'image/jpeg', 949839, '2017-09-17 14:55:42')[0m
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 201 Created in 1167ms (Views: 3.6ms | ActiveRecord: 7.6ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:55:42 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.5ms)


Started GET "/books/7" for 127.0.0.1 at 2017-09-17 22:55:44 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.5ms)


Started PATCH "/books/7.json" for 127.0.0.1 at 2017-09-17 22:55:58 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"3123123", "covers_attributes"=>{"1"=>{"id"=>"48", "_destroy"=>"1"}, "2"=>{"id"=>"49", "_destroy"=>"1"}, "3"=>{"id"=>"50", "_destroy"=>"1"}}}, "id"=>"7"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7 AND `covers`.`id` IN (48, 49, 50)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 48[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 49[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 50[0m
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/048/original/Catching-fire-book-cover.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/048/thumb/Catching-fire-book-cover.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/049/original/Enchantment-Book-Cover-Best-Seller1.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/049/thumb/Enchantment-Book-Cover-Best-Seller1.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/050/original/images-2.jpeg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/050/thumb/images-2.jpg
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 17ms (Views: 1.6ms | ActiveRecord: 6.8ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:55:58 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.4ms)


Started GET "/books/7" for 127.0.0.1 at 2017-09-17 22:55:59 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.4ms)


Started PATCH "/books/7.json" for 127.0.0.1 at 2017-09-17 22:56:05 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"3123123", "covers_attributes"=>{"3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cabe828 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-a89hrn.jpg>, @original_filename="original.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"original.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}, "id"=>"7"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170917-49410-2641n.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170917-49410-4pmjp8.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170917-49410-4pmjp8.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/b4f3f76943ad4785e5aee2beaa1d79cf20170917-49410-umhtb6.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170917-49410-v6fl0u.jpg'
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (7, '2017-09-17 14:56:05', '2017-09-17 14:56:05', 'original.jpg', 'image/jpeg', 949839, '2017-09-17 14:56:05')[0m
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 481ms (Views: 2.0ms | ActiveRecord: 6.9ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:56:05 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.6ms)


Started GET "/books/7" for 127.0.0.1 at 2017-09-17 22:56:07 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.5ms)


Started PATCH "/books/7.json" for 127.0.0.1 at 2017-09-17 22:56:09 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"3123123", "covers_attributes"=>{"1"=>{"id"=>"51", "_destroy"=>"1"}}}, "id"=>"7"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7 AND `covers`.`id` = 51[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 51[0m
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/051/original/images.jpeg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/051/thumb/images.jpg
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 14ms (Views: 1.4ms | ActiveRecord: 7.1ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:56:09 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.4ms)


Started GET "/books/7" for 127.0.0.1 at 2017-09-17 22:56:10 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.7ms)


Started GET "/books/7" for 127.0.0.1 at 2017-09-17 22:56:48 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.6ms)


Started GET "/books/7" for 127.0.0.1 at 2017-09-17 22:57:18 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.5ms)


Started GET "/books/7" for 127.0.0.1 at 2017-09-17 22:57:18 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.7ms)


Started GET "/books/7" for 127.0.0.1 at 2017-09-17 22:57:24 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.5ms)


Started GET "/books/7" for 127.0.0.1 at 2017-09-17 22:57:25 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.6ms)


Started GET "/books/7" for 127.0.0.1 at 2017-09-17 22:57:34 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.6ms)


Started PATCH "/books/7.json" for 127.0.0.1 at 2017-09-17 22:57:36 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"3123123"}, "id"=>"7"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.9ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:57:36 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.5ms)


Started GET "/books/7" for 127.0.0.1 at 2017-09-17 22:57:38 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.4ms)


Started PATCH "/books/7.json" for 127.0.0.1 at 2017-09-17 22:57:40 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"3123123", "covers_attributes"=>{"1"=>{"id"=>"52", "_destroy"=>"1"}, "2"=>{"id"=>"53", "_destroy"=>"1"}}}, "id"=>"7"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7 AND `covers`.`id` IN (52, 53)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 52[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 53[0m
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/052/original/original.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/052/thumb/original.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/053/original/original.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/053/thumb/original.jpg
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 14ms (Views: 1.5ms | ActiveRecord: 5.4ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:57:40 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.5ms)


Started GET "/books/7" for 127.0.0.1 at 2017-09-17 22:57:41 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.4ms)


Started GET "/books/7" for 127.0.0.1 at 2017-09-17 22:58:18 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.7ms)


Started GET "/books/7" for 127.0.0.1 at 2017-09-17 22:58:21 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.7ms)


Started PATCH "/books/7.json" for 127.0.0.1 at 2017-09-17 22:58:22 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"1231", "description"=>"3123123"}, "id"=>"7"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.8ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:58:22 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.3ms)


Started GET "/books/7" for 127.0.0.1 at 2017-09-17 22:58:24 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.5ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:58:38 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.3ms)


Started GET "/books/7" for 127.0.0.1 at 2017-09-17 22:58:39 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.6ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:58:41 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.4ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 22:58:43 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.6ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 23:13:04 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"", "description"=>"", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cb9e068 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-w7ul5q.jpg>, @original_filename="73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cb9df28 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-1b90k1d.jpg>, @original_filename="Enchantment-Book-Cover-Best-Seller1.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"Enchantment-Book-Cover-Best-Seller1.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cb9dde8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-5p96ff.jpeg>, @original_filename="images-2.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"images-2.jpeg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cb9dca8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-1h384pn.jpeg>, @original_filename="images.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"images.jpeg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/009d9d78bf6ccfd065e62143a67c70f920170917-49410-rbrfgl.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/009d9d78bf6ccfd065e62143a67c70f920170917-49410-xdde2p.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/009d9d78bf6ccfd065e62143a67c70f920170917-49410-xdde2p.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+9" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/cc2129df46a864abde503406768c830120170917-49410-hdllmq.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170917-49410-i70cmr.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170917-49410-t7qcjn.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170917-49410-t7qcjn.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/6b55ec267b2b8df059c7331920cda73220170917-49410-1rars1a.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170917-49410-z278i6.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170917-49410-1tw2pap.jpeg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170917-49410-1tw2pap.jpeg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/35b418a550bbc25ebb537b0bde29cec720170917-49410-wxcrn.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/59b514174bffe4ae402b3d63aad79fe020170917-49410-1v3xwuy.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/59b514174bffe4ae402b3d63aad79fe020170917-49410-5j38cg.jpeg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/59b514174bffe4ae402b3d63aad79fe020170917-49410-5j38cg.jpeg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/865696b697d9aee2409361b2f732d63420170917-49410-1chocyd.jpg'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/009d9d78bf6ccfd065e62143a67c70f920170917-49410-1kj01lm.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170917-49410-149m8xn.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170917-49410-1ogq55x.jpeg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/59b514174bffe4ae402b3d63aad79fe020170917-49410-1kscrrs.jpeg'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 639ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-17 23:13:07 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"2234", "description"=>"234234", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff951965648 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-1w2zgy2.jpg>, @original_filename="73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff951965508 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-1e7n4hr.jpg>, @original_filename="Enchantment-Book-Cover-Best-Seller1.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"Enchantment-Book-Cover-Best-Seller1.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff9519653c8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-7lsqcs.jpeg>, @original_filename="images-2.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"images-2.jpeg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff951965288 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-xul8xg.jpeg>, @original_filename="images.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"images.jpeg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/009d9d78bf6ccfd065e62143a67c70f920170917-49410-14ykn08.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/009d9d78bf6ccfd065e62143a67c70f920170917-49410-wk5qnx.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/009d9d78bf6ccfd065e62143a67c70f920170917-49410-wk5qnx.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+9" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/3e20a8a1e7adb8edeb9137d27e0adfb220170917-49410-1k118q7.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170917-49410-1eqwga5.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170917-49410-17c4hg0.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170917-49410-17c4hg0.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/9bea4ae7b36880584cedea484f9947f320170917-49410-1bbq1hn.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170917-49410-nayr2w.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170917-49410-wtmqcc.jpeg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170917-49410-wtmqcc.jpeg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/7d3ff570f3b98a3dc55ea6525b14289e20170917-49410-174n3xm.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/59b514174bffe4ae402b3d63aad79fe020170917-49410-6gthzh.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/59b514174bffe4ae402b3d63aad79fe020170917-49410-j1p8pv.jpeg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/59b514174bffe4ae402b3d63aad79fe020170917-49410-j1p8pv.jpeg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/7210e2e41090a0035ed0dd1af267e67820170917-49410-vmm5fs.jpg'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/009d9d78bf6ccfd065e62143a67c70f920170917-49410-191w5ag.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170917-49410-knp4ty.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170917-49410-95702j.jpeg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/59b514174bffe4ae402b3d63aad79fe020170917-49410-ffbnyp.jpeg'
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `books` (`title`, `description`, `created_at`, `updated_at`) VALUES ('2234', '234234', '2017-09-17 15:13:08', '2017-09-17 15:13:08')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (8, '2017-09-17 15:13:08', '2017-09-17 15:13:08', '73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg', 'image/jpeg', 71280, '2017-09-17 15:13:07')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (8, '2017-09-17 15:13:08', '2017-09-17 15:13:08', 'Enchantment-Book-Cover-Best-Seller1.jpg', 'image/jpeg', 198125, '2017-09-17 15:13:08')[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (8, '2017-09-17 15:13:08', '2017-09-17 15:13:08', 'images-2.jpeg', 'image/jpeg', 11093, '2017-09-17 15:13:08')[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (8, '2017-09-17 15:13:08', '2017-09-17 15:13:08', 'images.jpeg', 'image/jpeg', 8156, '2017-09-17 15:13:08')[0m
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 8[0m
Completed 201 Created in 648ms (Views: 2.3ms | ActiveRecord: 7.7ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 23:13:08 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 8[0m
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.6ms)


Started GET "/books/7" for 127.0.0.1 at 2017-09-17 23:13:09 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.5ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 23:13:11 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 8[0m
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.5ms)


Started GET "/books/8" for 127.0.0.1 at 2017-09-17 23:13:12 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 8 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 8[0m
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.6ms)


Started PATCH "/books/8.json" for 127.0.0.1 at 2017-09-17 23:13:15 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"2234", "description"=>"234234", "covers_attributes"=>{"1"=>{"id"=>"55", "_destroy"=>"1"}}}, "id"=>"8"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 8 AND `covers`.`id` = 55[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 55[0m
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/055/original/Enchantment-Book-Cover-Best-Seller1.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/055/thumb/Enchantment-Book-Cover-Best-Seller1.jpg
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 8[0m
Completed 200 OK in 13ms (Views: 1.4ms | ActiveRecord: 6.8ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 23:13:15 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 8[0m
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.7ms)


Started GET "/books/8" for 127.0.0.1 at 2017-09-17 23:13:15 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 8 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 8[0m
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.5ms)


Started PATCH "/books/8.json" for 127.0.0.1 at 2017-09-17 23:13:26 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"2234", "description"=>"234234", "covers_attributes"=>{"3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94c7d3168 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170917-49410-f3zm17.jpg>, @original_filename="original.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"original.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}, "id"=>"8"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170917-49410-z6zj8y.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170917-49410-183mvis.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170917-49410-183mvis.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/93a75a8d1c6a20fa0c5bf45465a4d8a820170917-49410-g8x5kv.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170917-49410-1mth15a.jpg'
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (8, '2017-09-17 15:13:26', '2017-09-17 15:13:26', 'original.jpg', 'image/jpeg', 949839, '2017-09-17 15:13:26')[0m
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 8[0m
Completed 200 OK in 481ms (Views: 2.3ms | ActiveRecord: 6.9ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-17 23:13:26 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 8[0m
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.8ms)


Started GET "/books/8" for 127.0.0.1 at 2017-09-17 23:13:27 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 8 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 8[0m
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.5ms)


Started GET "/books/8" for 127.0.0.1 at 2017-09-18 00:04:20 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 8 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 8[0m
Completed 200 OK in 19ms (Views: 11.6ms | ActiveRecord: 1.1ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-18 00:04:36 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 8[0m
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.7ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-18 00:04:36 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 8[0m
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.8ms)


Started DELETE "/books/7" for 127.0.0.1 at 2017-09-18 00:04:38 +0800
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 7[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 47[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `books` WHERE `books`.`id` = 7[0m
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/047/original/73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/047/thumb/73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg
Completed 204 No Content in 10ms (ActiveRecord: 5.6ms)


Started DELETE "/books/8" for 127.0.0.1 at 2017-09-18 00:04:38 +0800
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"8"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 8[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 54[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 56[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 57[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 58[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `books` WHERE `books`.`id` = 8[0m
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/054/original/73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/054/thumb/73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/056/original/images-2.jpeg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/056/thumb/images-2.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/057/original/images.jpeg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/057/thumb/images.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/058/original/original.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/058/thumb/original.jpg
Completed 204 No Content in 17ms (ActiveRecord: 7.1ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-18 00:05:15 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"Sample Book", "description"=>"Sample Book Description", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cb45238 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170918-49410-5wkt8f.jpg>, @original_filename="Enchantment-Book-Cover-Best-Seller1.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"Enchantment-Book-Cover-Best-Seller1.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cb450a8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170918-49410-1ru6ybt.jpeg>, @original_filename="images-2.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"images-2.jpeg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cb44f40 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170918-49410-hnr4ng.jpeg>, @original_filename="images.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"images.jpeg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cb44e00 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170918-49410-x3xlae.jpg>, @original_filename="original.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"original.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170918-49410-1tjy2m6.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170918-49410-dmn1kd.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170918-49410-dmn1kd.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/86f77a7b8d5f763bf9859ef5be43767620170918-49410-1wrv4it.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170918-49410-3marzg.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170918-49410-1bt5q1d.jpeg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170918-49410-1bt5q1d.jpeg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/15c06bade23c95c55513c1aedd32a78220170918-49410-1ghd0j7.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/59b514174bffe4ae402b3d63aad79fe020170918-49410-1uxfe1t.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/59b514174bffe4ae402b3d63aad79fe020170918-49410-1i3yon8.jpeg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/59b514174bffe4ae402b3d63aad79fe020170918-49410-1i3yon8.jpeg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/0f74238b21b8875193c6064e566055a920170918-49410-13r7h95.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170918-49410-1hzx95t.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170918-49410-s7v0kx.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170918-49410-s7v0kx.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/5699e20db95a8fb2d053e09941b4326720170918-49410-j8kqr4.jpg'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170918-49410-k2f0pu.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170918-49410-1iu62bm.jpeg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/59b514174bffe4ae402b3d63aad79fe020170918-49410-1kse207.jpeg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170918-49410-a1woxw.jpg'
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `description`, `created_at`, `updated_at`) VALUES ('Sample Book', 'Sample Book Description', '2017-09-17 16:05:16', '2017-09-17 16:05:16')[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (9, '2017-09-17 16:05:16', '2017-09-17 16:05:16', 'Enchantment-Book-Cover-Best-Seller1.jpg', 'image/jpeg', 198125, '2017-09-17 16:05:15')[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (9, '2017-09-17 16:05:16', '2017-09-17 16:05:16', 'images-2.jpeg', 'image/jpeg', 11093, '2017-09-17 16:05:15')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (9, '2017-09-17 16:05:16', '2017-09-17 16:05:16', 'images.jpeg', 'image/jpeg', 8156, '2017-09-17 16:05:15')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (9, '2017-09-17 16:05:16', '2017-09-17 16:05:16', 'original.jpg', 'image/jpeg', 949839, '2017-09-17 16:05:15')[0m
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 9[0m
Completed 201 Created in 1043ms (Views: 2.5ms | ActiveRecord: 10.2ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-18 00:05:16 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 9[0m
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.5ms)


Started GET "/books/9" for 127.0.0.1 at 2017-09-18 00:05:17 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 9 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 9[0m
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.5ms)


Started PATCH "/books/9.json" for 127.0.0.1 at 2017-09-18 00:05:31 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"Sample Book", "description"=>"Sample Book Description", "covers_attributes"=>{"0"=>{"id"=>"59", "_destroy"=>"1"}, "1"=>{"id"=>"60", "_destroy"=>"1"}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94e557dd8 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170918-49410-q2dv2x.jpg>, @original_filename="73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}, "id"=>"9"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 9 AND `covers`.`id` IN (59, 60)[0m
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/009d9d78bf6ccfd065e62143a67c70f920170918-49410-zdk9zu.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/009d9d78bf6ccfd065e62143a67c70f920170918-49410-1b2g987.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/009d9d78bf6ccfd065e62143a67c70f920170918-49410-1b2g987.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+9" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/749e6af04f301d3fa1f106d09be7d50720170918-49410-5unge8.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/009d9d78bf6ccfd065e62143a67c70f920170918-49410-16xdlqi.jpg'
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 59[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 60[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (9, '2017-09-17 16:05:31', '2017-09-17 16:05:31', '73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg', 'image/jpeg', 71280, '2017-09-17 16:05:31')[0m
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/059/original/Enchantment-Book-Cover-Best-Seller1.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/059/thumb/Enchantment-Book-Cover-Best-Seller1.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/060/original/images-2.jpeg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/060/thumb/images-2.jpg
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 9[0m
Completed 200 OK in 104ms (Views: 1.7ms | ActiveRecord: 7.6ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-18 00:05:31 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 9[0m
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.3ms)


Started GET "/books/9" for 127.0.0.1 at 2017-09-18 00:05:33 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 9 LIMIT 1[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 9[0m
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.6ms)


Started PATCH "/books/9.json" for 127.0.0.1 at 2017-09-18 00:05:39 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"Sample Book", "description"=>"Sample Book Description", "covers_attributes"=>{"3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94c740278 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170918-49410-rsp2ny.jpg>, @original_filename="Enchantment-Book-Cover-Best-Seller1.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"Enchantment-Book-Cover-Best-Seller1.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94c73bd90 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170918-49410-zu3ns7.jpeg>, @original_filename="images-2.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"images-2.jpeg\"\r\nContent-Type: image/jpeg\r\n">}}}, "id"=>"9"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170918-49410-1azgrc2.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170918-49410-1e8fy8r.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170918-49410-1e8fy8r.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/4f10c27da70d5248bb72c3d70a8d4d1a20170918-49410-1rfq5rk.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170918-49410-55d7nh.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170918-49410-14eljjb.jpeg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170918-49410-14eljjb.jpeg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/a5c60af3551352f63e574011768b01ff20170918-49410-q5grek.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170918-49410-1q6jx4n.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170918-49410-1j4ewv4.jpeg'
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (9, '2017-09-17 16:05:39', '2017-09-17 16:05:39', 'Enchantment-Book-Cover-Best-Seller1.jpg', 'image/jpeg', 198125, '2017-09-17 16:05:39')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (9, '2017-09-17 16:05:39', '2017-09-17 16:05:39', 'images-2.jpeg', 'image/jpeg', 11093, '2017-09-17 16:05:39')[0m
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 9[0m
Completed 200 OK in 530ms (Views: 2.7ms | ActiveRecord: 6.8ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-18 00:05:39 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 9[0m
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.5ms)


Started DELETE "/books/9" for 127.0.0.1 at 2017-09-18 00:06:01 +0800
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"9"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 9[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 61[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 62[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 63[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 64[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 65[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `books` WHERE `books`.`id` = 9[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/061/original/images.jpeg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/061/thumb/images.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/062/original/original.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/062/thumb/original.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/063/original/73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/063/thumb/73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/064/original/Enchantment-Book-Cover-Best-Seller1.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/064/thumb/Enchantment-Book-Cover-Best-Seller1.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/065/original/images-2.jpeg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/065/thumb/images-2.jpg
Completed 204 No Content in 13ms (ActiveRecord: 1.6ms)


Started POST "/books.json" for 127.0.0.1 at 2017-09-18 00:06:38 +0800
Processing by BooksController#create as JSON
  Parameters: {"book"=>{"title"=>"Sample Book", "description"=>"Sample Book Desc", "covers_attributes"=>{"0"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cc75838 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170918-49410-j8p4fg.jpg>, @original_filename="73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][0][photo]\"; filename=\"73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "1"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cc75630 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170918-49410-1uol9wv.jpg>, @original_filename="Catching-fire-book-cover.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][1][photo]\"; filename=\"Catching-fire-book-cover.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "2"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cc754f0 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170918-49410-46inn7.jpg>, @original_filename="Enchantment-Book-Cover-Best-Seller1.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][2][photo]\"; filename=\"Enchantment-Book-Cover-Best-Seller1.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cc75388 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170918-49410-1dww5mz.jpeg>, @original_filename="images-2.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"images-2.jpeg\"\r\nContent-Type: image/jpeg\r\n">}, "4"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cc75248 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170918-49410-rqj7up.jpeg>, @original_filename="images.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][4][photo]\"; filename=\"images.jpeg\"\r\nContent-Type: image/jpeg\r\n">}, "5"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94cc75108 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170918-49410-1d39hmr.jpg>, @original_filename="original.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][5][photo]\"; filename=\"original.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}}
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/009d9d78bf6ccfd065e62143a67c70f920170918-49410-1tokfmn.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/009d9d78bf6ccfd065e62143a67c70f920170918-49410-1at1rrp.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/009d9d78bf6ccfd065e62143a67c70f920170918-49410-1at1rrp.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+9" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/6f629fa1170e0eb22305bfc4173b7fbd20170918-49410-tbd8fk.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/3d2ba4f5e8ed7a86b3e732b06fbc63d620170918-49410-1iebfck.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/3d2ba4f5e8ed7a86b3e732b06fbc63d620170918-49410-1pnk6jk.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/3d2ba4f5e8ed7a86b3e732b06fbc63d620170918-49410-1pnk6jk.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/6d815e4f71dfa4b8f072e5749a221b2120170918-49410-1tcsyhj.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170918-49410-utlmee.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170918-49410-1kq33w.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170918-49410-1kq33w.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/1d5567975b3c23b91da28dafd451acbb20170918-49410-1021291.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170918-49410-18pqmt9.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170918-49410-185b6bf.jpeg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170918-49410-185b6bf.jpeg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/c08b53885d5ac2b8c53c62e3e1efe11d20170918-49410-1bp10j3.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/59b514174bffe4ae402b3d63aad79fe020170918-49410-1vcveas.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/59b514174bffe4ae402b3d63aad79fe020170918-49410-obs76l.jpeg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/59b514174bffe4ae402b3d63aad79fe020170918-49410-obs76l.jpeg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/032e6332996a6ee9530b0a43cb771c3220170918-49410-fd6uxd.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170918-49410-1qg6vea.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170918-49410-1aw8vaj.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170918-49410-1aw8vaj.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/b35d83f7b62fcc082bd3acbcc0dc01af20170918-49410-15a0t7d.jpg'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/009d9d78bf6ccfd065e62143a67c70f920170918-49410-6u743u.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/3d2ba4f5e8ed7a86b3e732b06fbc63d620170918-49410-1gui9nj.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/94a1d2b0a7e447788360e605962f94f220170918-49410-834k4l.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/523cf71aa5559127facaed22afa190a920170918-49410-1mzy77c.jpeg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/59b514174bffe4ae402b3d63aad79fe020170918-49410-1cme7al.jpeg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170918-49410-1c553q3.jpg'
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `books` (`title`, `description`, `created_at`, `updated_at`) VALUES ('Sample Book', 'Sample Book Desc', '2017-09-17 16:06:39', '2017-09-17 16:06:39')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (10, '2017-09-17 16:06:39', '2017-09-17 16:06:39', '73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg', 'image/jpeg', 71280, '2017-09-17 16:06:38')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (10, '2017-09-17 16:06:39', '2017-09-17 16:06:39', 'Catching-fire-book-cover.jpg', 'image/jpeg', 64727, '2017-09-17 16:06:38')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (10, '2017-09-17 16:06:39', '2017-09-17 16:06:39', 'Enchantment-Book-Cover-Best-Seller1.jpg', 'image/jpeg', 198125, '2017-09-17 16:06:38')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (10, '2017-09-17 16:06:39', '2017-09-17 16:06:39', 'images-2.jpeg', 'image/jpeg', 11093, '2017-09-17 16:06:39')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (10, '2017-09-17 16:06:39', '2017-09-17 16:06:39', 'images.jpeg', 'image/jpeg', 8156, '2017-09-17 16:06:39')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (10, '2017-09-17 16:06:39', '2017-09-17 16:06:39', 'original.jpg', 'image/jpeg', 949839, '2017-09-17 16:06:39')[0m
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 10[0m
Completed 201 Created in 1249ms (Views: 3.1ms | ActiveRecord: 7.7ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-18 00:06:39 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.5ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 10[0m
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.9ms)


Started GET "/books/10" for 127.0.0.1 at 2017-09-18 00:06:41 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 10 LIMIT 1[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 10[0m
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.4ms)


Started PATCH "/books/10.json" for 127.0.0.1 at 2017-09-18 00:06:45 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"Sample Book", "description"=>"Sample Book Desc", "covers_attributes"=>{"0"=>{"id"=>"66", "_destroy"=>"1"}, "1"=>{"id"=>"67", "_destroy"=>"1"}, "5"=>{"id"=>"71", "_destroy"=>"1"}}}, "id"=>"10"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 10 AND `covers`.`id` IN (66, 67, 71)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 66[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 67[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `covers` WHERE `covers`.`id` = 71[0m
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/066/original/73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/066/thumb/73b959fdec7901f9dc6052c16169b48b--how-to-design-design-your-own.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/067/original/Catching-fire-book-cover.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/067/thumb/Catching-fire-book-cover.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/071/original/original.jpg
[paperclip] deleting /Users/james/apps/lab/blog-codes/files-upload-demo/files-upload-demo/public/system/covers/photos/000/000/071/thumb/original.jpg
  [1m[36mCover Load (0.3ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 10[0m
Completed 200 OK in 20ms (Views: 1.8ms | ActiveRecord: 7.3ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-18 00:06:45 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 10[0m
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.4ms)


Started GET "/books/10" for 127.0.0.1 at 2017-09-18 00:06:47 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 10 LIMIT 1[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 10[0m
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.9ms)


Started PATCH "/books/10.json" for 127.0.0.1 at 2017-09-18 00:06:51 +0800
Processing by BooksController#update as JSON
  Parameters: {"book"=>{"title"=>"Sample Book", "description"=>"Sample Book Desc", "covers_attributes"=>{"3"=>{"photo"=>#<ActionDispatch::Http::UploadedFile:0x007ff94e5b4858 @tempfile=#<Tempfile:/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/RackMultipart20170918-49410-1fg1i85.jpg>, @original_filename="original.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"book[covers_attributes][3][photo]\"; filename=\"original.jpg\"\r\nContent-Type: image/jpeg\r\n">}}}, "id"=>"10"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170918-49410-1sgivph.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170918-49410-y5j7tj.jpg[0]' 2>/dev/null
Command :: convert '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170918-49410-y5j7tj.jpg[0]' -auto-orient -resize "32x" -crop "32x32+0+8" +repage -interlace Plane '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/2e926bf1528ebf1251df742182d4bf0120170918-49410-1xi6zbw.jpg'
Command :: file -b --mime '/var/folders/p3/vlx2vgcj02s3zng0xbh5vl2m0000gn/T/919c8b643b7133116b02fc0d9bb7df3f20170918-49410-gnoftj.jpg'
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `covers` (`book_id`, `created_at`, `updated_at`, `photo_file_name`, `photo_content_type`, `photo_file_size`, `photo_updated_at`) VALUES (10, '2017-09-17 16:06:52', '2017-09-17 16:06:52', 'original.jpg', 'image/jpeg', 949839, '2017-09-17 16:06:51')[0m
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCover Load (0.2ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 10[0m
Completed 200 OK in 514ms (Views: 2.1ms | ActiveRecord: 9.4ms)


Started GET "/books.json" for 127.0.0.1 at 2017-09-18 00:06:52 +0800
Processing by BooksController#index as JSON
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  [1m[36mCover Load (0.4ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 10[0m
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.8ms)


Started GET "/books/10" for 127.0.0.1 at 2017-09-18 00:10:07 +0800
Processing by BooksController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  `books`.* FROM `books` WHERE `books`.`id` = 10 LIMIT 1[0m
  [1m[36mCover Load (0.1ms)[0m  [1m[34mSELECT `covers`.* FROM `covers` WHERE `covers`.`book_id` = 10[0m
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.3ms)


